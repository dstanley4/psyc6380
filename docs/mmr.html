<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>7&nbsp; Moderated multiple regression – PSYC 6380 Psychological Applications of Multivariate Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./oneway-reg-anova.html" rel="next">
<link href="./mr-sample-size.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-2610579816e2069ae2a307bc257d5582.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.11.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./mmr.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Moderated multiple regression</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">PSYC 6380 Psychological Applications of Multivariate Analysis</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">An Emphasis on Workflow</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./qualtrics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Qualtrics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-pipeline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Science Pipelines in R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./correlation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Regression and correlation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multiple-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Multiple regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mr-sample-size.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Sample size for multiple regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mmr.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Moderated multiple regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./oneway-reg-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">One-way ANOVA via Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./twoway-reg-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Two-way ANOVA via Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="header-section-number">7.1</span> Overview</a></li>
  <li><a href="#scenario" id="toc-scenario" class="nav-link" data-scroll-target="#scenario"><span class="header-section-number">7.2</span> Scenario</a></li>
  <li><a href="#overview-1" id="toc-overview-1" class="nav-link" data-scroll-target="#overview-1"><span class="header-section-number">7.3</span> Overview</a>
  <ul>
  <li><a href="#no-interaction" id="toc-no-interaction" class="nav-link" data-scroll-target="#no-interaction"><span class="header-section-number">7.3.1</span> No interaction</a></li>
  <li><a href="#interaction" id="toc-interaction" class="nav-link" data-scroll-target="#interaction"><span class="header-section-number">7.3.2</span> Interaction</a></li>
  <li><a href="#comparison" id="toc-comparison" class="nav-link" data-scroll-target="#comparison"><span class="header-section-number">7.3.3</span> Comparison</a></li>
  </ul></li>
  <li><a href="#fastinteraction" id="toc-fastinteraction" class="nav-link" data-scroll-target="#fastinteraction"><span class="header-section-number">7.4</span> fastInteraction</a>
  <ul>
  <li><a href="#graphing-in-3d" id="toc-graphing-in-3d" class="nav-link" data-scroll-target="#graphing-in-3d"><span class="header-section-number">7.4.1</span> Graphing in 3D</a></li>
  <li><a href="#unformatted-2d-graph" id="toc-unformatted-2d-graph" class="nav-link" data-scroll-target="#unformatted-2d-graph"><span class="header-section-number">7.4.2</span> Unformatted 2D graph</a></li>
  <li><a href="#tables" id="toc-tables" class="nav-link" data-scroll-target="#tables"><span class="header-section-number">7.4.3</span> Tables</a></li>
  <li><a href="#formatted-2d-graph" id="toc-formatted-2d-graph" class="nav-link" data-scroll-target="#formatted-2d-graph"><span class="header-section-number">7.4.4</span> Formatted 2D graph</a>
  <ul>
  <li><a href="#saving" id="toc-saving" class="nav-link" data-scroll-target="#saving"><span class="header-section-number">7.4.4.1</span> Saving</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#powersample-size-analysis" id="toc-powersample-size-analysis" class="nav-link" data-scroll-target="#powersample-size-analysis"><span class="header-section-number">7.5</span> Power/sample size analysis</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Moderated multiple regression</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>The following CRAN packages must be installed:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Required CRAN Packages</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>tidyverse</td>
</tr>
<tr class="even">
<td>remotes</td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Data</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="data_endurance.csv">data_endurance.csv</a></td>
</tr>
</tbody>
</table>
<p>The following GitHub packages must be installed:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Required GitHub Packages</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>dstanley4/fastInteraction</td>
</tr>
</tbody>
</table>
<p>After the remotes package is installed, it can be used to install a package from GitHub:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"dstanley4/fastInteraction"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<section id="overview" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="overview"><span class="header-section-number">7.1</span> Overview</h2>
<p>In this chapter we present a brief overview of moderated multiple regression. In an ANOVA you can have two variables interact to predict a dependent variable. In this ANOVA scenario, the predictors are the categorical ANOVA variables. When our predictors are continuous variables (e.g., height, weight, etc) they can still interact to predict the dependent variable (i.e., criterion). In this chapter we primarily focus on how to obtain the required information from R to write up a continous variable interaction (also known as a moderated multiple regression). For an understanding of the underlying theory I strongly encourage you to read <em>Chapter 7: Interactions among continuous variables</em> in Cohen, Cohen, West, and Aiken (2003):</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch_mmr/images/ccwa_cover.png" class="img-fluid figure-img" style="width:30.0%"></p>
</figure>
</div>
</div>
</div>
<p>Cohen, J., Cohen, P., West, S. G., &amp; Aiken, L. S. (2013). Applied multiple regression/correlation analysis for the behavioral sciences. Routledge.</p>
</section>
<section id="scenario" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="scenario"><span class="header-section-number">7.2</span> Scenario</h2>
<p>Imagine a scenario where we are interested in predicted endurance from participant age and exercise.</p>
<p>We can load the data:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>data_endurance <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data_endurance.csv"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We can see the structure of the data:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(data_endurance)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 245
Columns: 4
$ id        &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 1…
$ age       &lt;dbl&gt; 60, 40, 29, 47, 48, 42, 55, 43, 39, 51, 54, 52, 53, 68, 57, …
$ exercise  &lt;dbl&gt; 10, 9, 2, 10, 9, 6, 8, 19, 9, 14, 15, 4, 3, 17, 24, 4, 4, 16…
$ endurance &lt;dbl&gt; 18, 36, 51, 18, 23, 30, 8, 40, 28, 15, 49, 27, 12, 43, 47, 2…</code></pre>
</div>
</div>
</section>
<section id="overview-1" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="overview-1"><span class="header-section-number">7.3</span> Overview</h2>
<section id="no-interaction" class="level3" data-number="7.3.1">
<h3 data-number="7.3.1" class="anchored" data-anchor-id="no-interaction"><span class="header-section-number">7.3.1</span> No interaction</h3>
<p>In a typical two variable regression we would attempt to solve this equation:</p>
<p><span class="math display">\[ \hat{Y} = b_0 + b_1age + b_2exercise \]</span> We would do so using this R code:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>lm_no_int <span class="ot">&lt;-</span> <span class="fu">lm</span>(endurance <span class="sc">~</span> age <span class="sc">+</span> exercise,</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> data_endurance)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The result would be the a regression surface that fits the data as illustrated below. In this graph we did <strong>not</strong> assess whether there was an interaction (i.e., a moderating effect). This is just a standard two predictor regression. We illustrate the extent to which exercise and age predict endurance. You can consider the regression surface a series of best-fit lines. All of the lines on this surface have the same slope. That means in this statistical model the relation between exercise and endurance is not influenced by age – because the slopes of the lines on the surface are the same and do not change with age of participants.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch_mmr/images/mmr_no_int.png" class="img-fluid figure-img" style="width:35.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="interaction" class="level3" data-number="7.3.2">
<h3 data-number="7.3.2" class="anchored" data-anchor-id="interaction"><span class="header-section-number">7.3.2</span> Interaction</h3>
<p>We might wonder if the relation between exercise (a predictor) and endurance (the criterion) depends on the age of participants (a predictor). In other words, we might wonder if the relation between exercise and endurance is <strong>moderated</strong> by age. This is conceptually identical to an interaction effect in an ANOVA.</p>
<p>We determine if there is a moderated relation by adding a product term to the regression. This is simply a new data column created by multiplying the age and exercise columns. If the <em>b</em>-weight (i.e., <span class="math inline">\(b_3\)</span>) for for this product column (i.e., age*exercise) is significant - we say there is an interaction or a moderated relation. The regression equation we need to solve is below:</p>
<p><span class="math display">\[ \hat{Y} = b_0 + b_1age + b_2exercise + b_3(age)(exercise)\]</span></p>
<p>We solve this equation using the code:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>lm_int <span class="ot">&lt;-</span> <span class="fu">lm</span>(endurance <span class="sc">~</span> age <span class="sc">+</span> exercise <span class="sc">+</span> <span class="fu">I</span>(age<span class="sc">*</span>exercise),</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> data_endurance)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>When we examined the output for this regression, we found that that <span class="math inline">\(b_3\)</span> was significant. This indicates there is a moderated relation. The relation between exercise and endurance does depend on age. We can see this moderated relation in the graph below. As before imagine the surface is composed of a series of best-fit lines. Because there is a moderated relation the slopes of the lines change as we move across this surface. You can see this clearly in the graph below. This illustrate the slope for the exercise – endurance relation changes depending on the age of participants. That is, it illustrates the nature of the moderated relation.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch_mmr/images/mmr_int.png" class="img-fluid figure-img" style="width:35.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="comparison" class="level3" data-number="7.3.3">
<h3 data-number="7.3.3" class="anchored" data-anchor-id="comparison"><span class="header-section-number">7.3.3</span> Comparison</h3>
<p>We present both graphs below so you can more easily see the difference between them. When you look at the <em>No Interaction</em> graph you can see the best-fit surface is composed of a series of straight lines that are parallel (i.e., all have the same slope) but all orientated a particular angle. In contrast, when you look at the <em>Interaction</em> graph you can see that it is also composed of a series of straight lines but the overall surface looks curves because the lines composing the best-fit surface have different slopes.</p>
<p><strong>Interpretation note:</strong> Notice that the difference between the <em>No Interaction</em> surface and the <em>Interaction</em> surface is the largest near the edges of the surface. Consequently, the inclusion of product terms typically makes the largest improvement in fit for the people who score at the extremes of the surface. In contrast, the inclusion of product terms typically makes a minor improvement in fit for the people who are near the middle of the surface (i.e., the majority of people). Keep that in mind as you interpret the increase in fit that results from the inclusion of the product terms.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch_mmr/images/mmr_both.png" class="img-fluid figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="fastinteraction" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="fastinteraction"><span class="header-section-number">7.4</span> fastInteraction</h2>
<p>If you want to actually conduct a moderated regression and solve the equation below, there is an easy way to do it.</p>
<p><span class="math display">\[ \hat{Y} = b_0 + b_1age + b_2exercise + b_3(age)(exercise)\]</span></p>
<p>You simply use the fast.int() command in the fastInteraction package does the following:</p>
<ol type="1">
<li><p>Conducts the regression (i.e., the lm command); including mean centering of predictors if desired (see Cohen, Cohen, West, and Aiken, 2003).</p></li>
<li><p>Creates the 2D graph</p></li>
<li><p>Creates the 3D graph</p></li>
<li><p>Creates two APA style tables to describe the analyses</p></li>
</ol>
<p>To run the analysis you use the code below:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fastInteraction)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>new_axis_labels <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">criterion =</span> <span class="st">"Endurance"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">predictor =</span> <span class="st">"Age (centered)"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">moderator =</span> <span class="st">"Exercise (centered)"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>mmr_output <span class="ot">&lt;-</span> <span class="fu">fast.int</span>(<span class="at">data =</span> cohen_exercise,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>                       <span class="at">criterion =</span> endurance,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>                       <span class="at">predictor =</span> age,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>                       <span class="at">moderator =</span> exercise,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>                       <span class="at">center.predictors =</span> <span class="cn">TRUE</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>                       <span class="at">axis.labels =</span> new_axis_labels,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                       <span class="at">path =</span> <span class="st">"tables_mmr.doc"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.
ℹ The deprecated feature was likely used in the fastInteraction package.
  Please report the issue to the authors.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Predictor"
[1] "b"
[1] "b_95_CI"
[1] "Unique_R2"
[1] "sr2_95_CI"
[1] "p"
[1] "Fit"
[1] "Predictor"
[1] "b"
[1] "b_95_CI"
[1] "Unique_R2"
[1] "sr2_95_CI"
[1] "p"
[1] "Fit"
[1] "moderator"
[1] "moderator.value"
[1] "b1.slope"
[1] "b1.LL"
[1] "b1.UL"
[1] "b0.intercept"
[1] "b1.SE"
[1] "t"
[1] "p"
[1] "moderator"
[1] "moderator.value"
[1] "b1.slope"
[1] "b1.LL"
[1] "b1.UL"
[1] "b0.intercept"
[1] "b1.SE"
[1] "t"
[1] "p"</code></pre>
</div>
</div>
<section id="graphing-in-3d" class="level3" data-number="7.4.1">
<h3 data-number="7.4.1" class="anchored" data-anchor-id="graphing-in-3d"><span class="header-section-number">7.4.1</span> Graphing in 3D</h3>
<p>You can obtain the 3D graph (which can be rotated) using the code below. The graph may not appear on this webpage if you are using Chrome.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>mmr_output<span class="sc">$</span>graph3D</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-13ea8b3d88ca213d0f75" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-13ea8b3d88ca213d0f75">{"x":{"visdat":{"6e103bd6c9d0":["function () ","plotlyVisDat"]},"cur_data":"6e103bd6c9d0","attrs":{"6e103bd6c9d0":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"z":[[31.009315148253233,23.804083847479635,16.598852546706041,9.3936212459324402,2.1883899451588458],[31.093905180435215,26.168846139883488,21.243787099331758,16.318728058780025,11.393669018228294],[31.1784952126172,28.533608432287338,25.888721651957475,23.243834871627609,20.598948091297746],[31.263085244799182,30.898370724691183,30.533656204583192,30.168941684475193,29.804227164367198],[31.347675276981168,33.263133017095036,35.178590757208909,37.094048497322774,39.009506237436646]],"type":"surface","x":[-20.199999999999999,-10.1,0,10.1,20.199999999999999],"y":[-9.5999999999999996,-4.7999999999999998,0,4.7999999999999998,9.5999999999999996],"opacity":0.90000000000000002,"colors":["#d1d1d1","#555555"],"inherit":true},"6e103bd6c9d0.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[10.816326122448984,-9.1836738775510156,-20.183673877551016,-2.1836738775510156,-1.1836738775510156,-7.1836738775510156,5.8163261224489844,-6.1836738775510156,-10.183673877551016,1.8163261224489844,4.8163261224489844,2.8163261224489844,3.8163261224489844,18.816326122448984,7.8163261224489844,-19.183673877551016,-14.183673877551016,6.8163261224489844,12.816326122448984,-10.183673877551016,-17.183673877551016,17.816326122448984,6.8163261224489844,-2.1836738775510156,-2.1836738775510156,11.816326122448984,-9.1836738775510156,-0.18367387755101561,-21.183673877551016,-9.1836738775510156,-5.1836738775510156,-8.1836738775510156,3.8163261224489844,17.816326122448984,2.8163261224489844,1.8163261224489844,-3.1836738775510156,-5.1836738775510156,14.816326122448984,8.8163261224489844,-20.183673877551016,-5.1836738775510156,1.8163261224489844,1.8163261224489844,3.8163261224489844,-5.1836738775510156,-3.1836738775510156,-0.18367387755101561,-15.183673877551016,14.816326122448984,-5.1836738775510156,-12.183673877551016,2.8163261224489844,9.8163261224489844,10.816326122448984,-5.1836738775510156,-1.1836738775510156,6.8163261224489844,-1.1836738775510156,1.8163261224489844,-2.1836738775510156,12.816326122448984,2.8163261224489844,-4.1836738775510156,-5.1836738775510156,-3.1836738775510156,-7.1836738775510156,-3.1836738775510156,-7.1836738775510156,2.8163261224489844,26.816326122448984,11.816326122448984,-15.183673877551016,12.816326122448984,-1.1836738775510156,-2.1836738775510156,-4.1836738775510156,-9.1836738775510156,14.816326122448984,-8.1836738775510156,-16.183673877551016,-10.183673877551016,17.816326122448984,0.81632612244898439,-5.1836738775510156,10.816326122448984,5.8163261224489844,-10.183673877551016,10.816326122448984,20.816326122448984,6.8163261224489844,-9.1836738775510156,4.8163261224489844,-5.1836738775510156,-7.1836738775510156,6.8163261224489844,3.8163261224489844,5.8163261224489844,-9.1836738775510156,19.816326122448984,9.8163261224489844,-2.1836738775510156,-4.1836738775510156,12.816326122448984,-4.1836738775510156,-4.1836738775510156,20.816326122448984,-5.1836738775510156,14.816326122448984,7.8163261224489844,3.8163261224489844,-1.1836738775510156,-11.183673877551016,3.8163261224489844,-15.183673877551016,-2.1836738775510156,-6.1836738775510156,12.816326122448984,-2.1836738775510156,-8.1836738775510156,-6.1836738775510156,-15.183673877551016,-21.183673877551016,5.8163261224489844,-10.183673877551016,-1.1836738775510156,-2.1836738775510156,-0.18367387755101561,-8.1836738775510156,-3.1836738775510156,1.8163261224489844,12.816326122448984,17.816326122448984,-8.1836738775510156,-2.1836738775510156,-1.1836738775510156,10.816326122448984,8.8163261224489844,-13.183673877551016,5.8163261224489844,1.8163261224489844,10.816326122448984,-2.1836738775510156,13.816326122448984,-9.1836738775510156,3.8163261224489844,-12.183673877551016,-1.1836738775510156,-16.183673877551016,-5.1836738775510156,-17.183673877551016,12.816326122448984,7.8163261224489844,12.816326122448984,32.816326122448984,2.8163261224489844,-4.1836738775510156,5.8163261224489844,15.816326122448984,-2.1836738775510156,6.8163261224489844,8.8163261224489844,-6.1836738775510156,9.8163261224489844,-7.1836738775510156,-22.183673877551016,12.816326122448984,17.816326122448984,-21.183673877551016,7.8163261224489844,-10.183673877551016,1.8163261224489844,-14.183673877551016,11.816326122448984,-13.183673877551016,5.8163261224489844,0.81632612244898439,10.816326122448984,14.816326122448984,9.8163261224489844,-2.1836738775510156,18.816326122448984,9.8163261224489844,-5.1836738775510156,-19.183673877551016,-8.1836738775510156,-29.183673877551016,13.816326122448984,-8.1836738775510156,10.816326122448984,2.8163261224489844,-4.1836738775510156,-7.1836738775510156,-1.1836738775510156,-0.18367387755101561,-6.1836738775510156,3.8163261224489844,2.8163261224489844,-3.1836738775510156,-5.1836738775510156,-8.1836738775510156,7.8163261224489844,-0.18367387755101561,-1.1836738775510156,-10.183673877551016,-4.1836738775510156,-10.183673877551016,15.816326122448984,-7.1836738775510156,-2.1836738775510156,17.816326122448984,-12.183673877551016,-15.183673877551016,-4.1836738775510156,-14.183673877551016,-3.1836738775510156,-3.1836738775510156,-6.1836738775510156,-10.183673877551016,0.81632612244898439,-0.18367387755101561,19.816326122448984,8.8163261224489844,-9.1836738775510156,-5.1836738775510156,-1.1836738775510156,3.8163261224489844,8.8163261224489844,-1.1836738775510156,-5.1836738775510156,-6.1836738775510156,6.8163261224489844,-3.1836738775510156,0.81632612244898439,-6.1836738775510156,-1.1836738775510156,-6.1836738775510156,-8.1836738775510156,5.8163261224489844,-6.1836738775510156,6.8163261224489844,-4.1836738775510156,10.816326122448984,7.8163261224489844,6.8164261224489877],"y":[-0.67346979591836842,-1.6734697959183684,-8.6734697959183684,-0.67346979591836842,-1.6734697959183684,-4.6734697959183684,-2.6734697959183684,8.3265302040816316,-1.6734697959183684,3.3265302040816316,4.3265302040816316,-6.6734697959183684,-7.6734697959183684,6.3265302040816316,13.326530204081632,-6.6734697959183684,-6.6734697959183684,5.3265302040816316,3.3265302040816316,2.3265302040816316,-5.6734697959183684,-2.6734697959183684,2.3265302040816316,3.3265302040816316,-0.67346979591836842,0.32653020408163158,4.3265302040816316,-6.6734697959183684,2.3265302040816316,-4.6734697959183684,-5.6734697959183684,7.3265302040816316,2.3265302040816316,8.3265302040816316,-4.6734697959183684,-0.67346979591836842,0.32653020408163158,-6.6734697959183684,5.3265302040816316,3.3265302040816316,-8.6734697959183684,0.32653020408163158,1.3265302040816316,4.3265302040816316,-0.67346979591836842,-1.6734697959183684,-10.673469795918368,3.3265302040816316,-4.6734697959183684,2.3265302040816316,-1.6734697959183684,-5.6734697959183684,5.3265302040816316,1.3265302040816316,-4.6734697959183684,-3.6734697959183684,-6.6734697959183684,-1.6734697959183684,2.3265302040816316,5.3265302040816316,-5.6734697959183684,3.3265302040816316,3.3265302040816316,-1.6734697959183684,-10.673469795918368,3.3265302040816316,-8.6734697959183684,2.3265302040816316,2.3265302040816316,0.32653020408163158,2.3265302040816316,0.32653020408163158,2.3265302040816316,-0.67346979591836842,-1.6734697959183684,4.3265302040816316,-3.6734697959183684,-5.6734697959183684,-3.6734697959183684,-7.6734697959183684,-8.6734697959183684,-0.67346979591836842,-0.67346979591836842,5.3265302040816316,2.3265302040816316,-0.67346979591836842,0.32653020408163158,1.3265302040816316,-0.67346979591836842,3.3265302040816316,-0.67346979591836842,14.326530204081632,1.3265302040816316,4.3265302040816316,-3.6734697959183684,1.3265302040816316,11.326530204081632,1.3265302040816316,1.3265302040816316,6.3265302040816316,-1.6734697959183684,-0.67346979591836842,-0.67346979591836842,3.3265302040816316,-5.6734697959183684,1.3265302040816316,0.32653020408163158,0.32653020408163158,2.3265302040816316,1.3265302040816316,3.3265302040816316,-2.6734697959183684,-4.6734697959183684,1.3265302040816316,-3.6734697959183684,-1.6734697959183684,3.3265302040816316,-4.6734697959183684,3.3265302040816316,9.3265302040816316,-6.6734697959183684,1.3265302040816316,3.3265302040816316,1.3265302040816316,-7.6734697959183684,0.32653020408163158,-3.6734697959183684,-4.6734697959183684,-5.6734697959183684,-9.6734697959183684,-0.67346979591836842,2.3265302040816316,2.3265302040816316,-7.6734697959183684,0.32653020408163158,-1.6734697959183684,-6.6734697959183684,15.326530204081632,-4.6734697959183684,0.32653020408163158,5.3265302040816316,0.32653020408163158,0.32653020408163158,-0.67346979591836842,2.3265302040816316,0.32653020408163158,2.3265302040816316,2.3265302040816316,-4.6734697959183684,3.3265302040816316,-6.6734697959183684,1.3265302040816316,0.32653020408163158,0.32653020408163158,4.3265302040816316,12.326530204081632,4.3265302040816316,-0.67346979591836842,7.3265302040816316,-3.6734697959183684,5.3265302040816316,0.32653020408163158,-3.6734697959183684,-6.6734697959183684,-3.6734697959183684,-4.6734697959183684,7.3265302040816316,-1.6734697959183684,-0.67346979591836842,-0.67346979591836842,-3.6734697959183684,-3.6734697959183684,3.3265302040816316,-1.6734697959183684,-0.67346979591836842,4.3265302040816316,-0.67346979591836842,4.3265302040816316,1.3265302040816316,-2.6734697959183684,-0.67346979591836842,5.3265302040816316,7.3265302040816316,-2.6734697959183684,-1.6734697959183684,0.32653020408163158,-4.6734697959183684,0.32653020408163158,0.32653020408163158,-4.6734697959183684,3.3265302040816316,-0.67346979591836842,3.3265302040816316,-5.6734697959183684,2.3265302040816316,1.3265302040816316,10.326530204081632,2.3265302040816316,-1.6734697959183684,6.3265302040816316,-4.6734697959183684,-0.67346979591836842,1.3265302040816316,4.3265302040816316,-1.6734697959183684,7.3265302040816316,0.32653020408163158,-5.6734697959183684,-8.6734697959183684,3.3265302040816316,1.3265302040816316,9.3265302040816316,-5.6734697959183684,0.32653020408163158,6.3265302040816316,8.3265302040816316,2.3265302040816316,3.3265302040816316,6.3265302040816316,5.3265302040816316,-7.6734697959183684,4.3265302040816316,11.326530204081632,-2.6734697959183684,0.32653020408163158,1.3265302040816316,9.3265302040816316,0.32653020408163158,-4.6734697959183684,-1.6734697959183684,0.32653020408163158,4.3265302040816316,-3.6734697959183684,-2.6734697959183684,-7.6734697959183684,-4.6734697959183684,-3.6734697959183684,-2.6734697959183684,-0.67346979591836842,-7.6734697959183684,-10.673469795918368,-1.6734697959183684,-3.6734697959183684,0.32653020408163158,1.3266302040816313],"z":[18,36,51,18,23,30,8,40,28,15,49,27,12,43,47,21,32,33,25,30,41,25,45,33,29,44,28,20,45,28,18,29,24,55,26,46,19,25,29,32,32,12,27,33,28,34,28,24,28,25,9,35,36,40,30,14,22,31,18,15,31,11,30,9,7,48,21,43,28,28,13,25,35,13,15,14,29,24,5,11,24,28,22,35,32,8,31,18,34,27,7,32,22,42,10,16,40,28,29,41,16,28,24,17,10,33,14,32,16,19,30,13,7,28,42,39,48,22,34,40,26,10,26,7,17,23,18,3,20,22,31,31,40,22,27,31,26,40,20,13,35,14,34,35,17,31,23,36,21,31,35,17,33,32,18,44,10,22,18,42,52,33,26,15,16,42,29,20,29,17,28,8,38,37,50,42,23,24,21,19,19,30,50,34,21,27,24,16,13,21,15,21,29,40,21,30,26,20,14,33,38,16,35,9,29,21,24,2,21,25,24,39,22,21,38,50,35,22,37,29,31,24,34,29,31,44,31,28,25,35,14,46,25,25,29,24,20,26,20,40,3,37,0,18,24.0001],"type":"scatter3d","mode":"markers","color":"black","size":5,"name":"Data points","inherit":true},"6e103bd6c9d0.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[-20.213911804624246,-10.106955902312121,3.5527136788005009e-15,10.10695590231213,20.213911804624253],"y":[-4.7752254329827499,-4.7752254329827499,-4.7752254329827499,-4.7752254329827499,-4.7752254329827499],"z":[31.093905180435215,26.168846139883488,21.243787099331758,16.318728058780025,11.393669018228294],"type":"scatter3d","mode":"lines","line":{"color":"black","width":10,"dash":"dash"},"name":"-1 SD line","inherit":true},"6e103bd6c9d0.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[-20.213911804624246,-10.106955902312121,3.5527136788005009e-15,10.10695590231213,20.213911804624253],"y":[4.7752254329827482,4.7752254329827482,4.7752254329827482,4.7752254329827482,4.7752254329827482],"z":[31.263085244799182,30.898370724691183,30.533656204583192,30.168941684475193,29.804227164367198],"type":"scatter3d","mode":"lines","line":{"color":"black","width":10,"dash":"dash"},"name":"+1 SD line","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"Age (centered)","range":[-20.199999999999999,20.199999999999999],"ticktype":"array","tickvals":[-20.199999999999999,-10.1,0,10.1,20.199999999999999]},"yaxis":{"title":"Exercise (centered)","range":[-9.5999999999999996,9.5999999999999996],"ticktype":"array","tickvals":[-9.5999999999999996,-4.7999999999999998,0,4.7999999999999998,9.5999999999999996]},"zaxis":{"title":"Endurance"},"aspectmode":"cube","aspectratio":{"x":1,"y":1,"z":0.94999999999999996},"showlegend":true},"hovermode":"closest","showlegend":true,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(209,209,209,1)"],["0.0416666666666667","rgba(203,203,203,1)"],["0.0833333333333333","rgba(198,198,198,1)"],["0.125","rgba(192,192,192,1)"],["0.166666666666667","rgba(187,187,187,1)"],["0.208333333333333","rgba(182,182,182,1)"],["0.25","rgba(176,176,176,1)"],["0.291666666666667","rgba(171,171,171,1)"],["0.333333333333333","rgba(166,166,166,1)"],["0.375","rgba(160,160,160,1)"],["0.416666666666667","rgba(155,155,155,1)"],["0.458333333333333","rgba(150,150,150,1)"],["0.5","rgba(145,145,145,1)"],["0.541666666666667","rgba(139,139,139,1)"],["0.583333333333333","rgba(134,134,134,1)"],["0.625","rgba(129,129,129,1)"],["0.666666666666667","rgba(124,124,124,1)"],["0.708333333333333","rgba(119,119,119,1)"],["0.75","rgba(114,114,114,1)"],["0.791666666666667","rgba(109,109,109,1)"],["0.833333333333333","rgba(104,104,104,1)"],["0.875","rgba(99,99,99,1)"],["0.916666666666667","rgba(95,95,95,1)"],["0.958333333333333","rgba(90,90,90,1)"],["1","rgba(85,85,85,1)"]],"showscale":true,"z":[[31.009315148253233,23.804083847479635,16.598852546706041,9.3936212459324402,2.1883899451588458],[31.093905180435215,26.168846139883488,21.243787099331758,16.318728058780025,11.393669018228294],[31.1784952126172,28.533608432287338,25.888721651957475,23.243834871627609,20.598948091297746],[31.263085244799182,30.898370724691183,30.533656204583192,30.168941684475193,29.804227164367198],[31.347675276981168,33.263133017095036,35.178590757208909,37.094048497322774,39.009506237436646]],"type":"surface","x":[-20.199999999999999,-10.1,0,10.1,20.199999999999999],"y":[-9.5999999999999996,-4.7999999999999998,0,4.7999999999999998,9.5999999999999996],"opacity":0.90000000000000002,"frame":null},{"x":[10.816326122448984,-9.1836738775510156,-20.183673877551016,-2.1836738775510156,-1.1836738775510156,-7.1836738775510156,5.8163261224489844,-6.1836738775510156,-10.183673877551016,1.8163261224489844,4.8163261224489844,2.8163261224489844,3.8163261224489844,18.816326122448984,7.8163261224489844,-19.183673877551016,-14.183673877551016,6.8163261224489844,12.816326122448984,-10.183673877551016,-17.183673877551016,17.816326122448984,6.8163261224489844,-2.1836738775510156,-2.1836738775510156,11.816326122448984,-9.1836738775510156,-0.18367387755101561,-21.183673877551016,-9.1836738775510156,-5.1836738775510156,-8.1836738775510156,3.8163261224489844,17.816326122448984,2.8163261224489844,1.8163261224489844,-3.1836738775510156,-5.1836738775510156,14.816326122448984,8.8163261224489844,-20.183673877551016,-5.1836738775510156,1.8163261224489844,1.8163261224489844,3.8163261224489844,-5.1836738775510156,-3.1836738775510156,-0.18367387755101561,-15.183673877551016,14.816326122448984,-5.1836738775510156,-12.183673877551016,2.8163261224489844,9.8163261224489844,10.816326122448984,-5.1836738775510156,-1.1836738775510156,6.8163261224489844,-1.1836738775510156,1.8163261224489844,-2.1836738775510156,12.816326122448984,2.8163261224489844,-4.1836738775510156,-5.1836738775510156,-3.1836738775510156,-7.1836738775510156,-3.1836738775510156,-7.1836738775510156,2.8163261224489844,26.816326122448984,11.816326122448984,-15.183673877551016,12.816326122448984,-1.1836738775510156,-2.1836738775510156,-4.1836738775510156,-9.1836738775510156,14.816326122448984,-8.1836738775510156,-16.183673877551016,-10.183673877551016,17.816326122448984,0.81632612244898439,-5.1836738775510156,10.816326122448984,5.8163261224489844,-10.183673877551016,10.816326122448984,20.816326122448984,6.8163261224489844,-9.1836738775510156,4.8163261224489844,-5.1836738775510156,-7.1836738775510156,6.8163261224489844,3.8163261224489844,5.8163261224489844,-9.1836738775510156,19.816326122448984,9.8163261224489844,-2.1836738775510156,-4.1836738775510156,12.816326122448984,-4.1836738775510156,-4.1836738775510156,20.816326122448984,-5.1836738775510156,14.816326122448984,7.8163261224489844,3.8163261224489844,-1.1836738775510156,-11.183673877551016,3.8163261224489844,-15.183673877551016,-2.1836738775510156,-6.1836738775510156,12.816326122448984,-2.1836738775510156,-8.1836738775510156,-6.1836738775510156,-15.183673877551016,-21.183673877551016,5.8163261224489844,-10.183673877551016,-1.1836738775510156,-2.1836738775510156,-0.18367387755101561,-8.1836738775510156,-3.1836738775510156,1.8163261224489844,12.816326122448984,17.816326122448984,-8.1836738775510156,-2.1836738775510156,-1.1836738775510156,10.816326122448984,8.8163261224489844,-13.183673877551016,5.8163261224489844,1.8163261224489844,10.816326122448984,-2.1836738775510156,13.816326122448984,-9.1836738775510156,3.8163261224489844,-12.183673877551016,-1.1836738775510156,-16.183673877551016,-5.1836738775510156,-17.183673877551016,12.816326122448984,7.8163261224489844,12.816326122448984,32.816326122448984,2.8163261224489844,-4.1836738775510156,5.8163261224489844,15.816326122448984,-2.1836738775510156,6.8163261224489844,8.8163261224489844,-6.1836738775510156,9.8163261224489844,-7.1836738775510156,-22.183673877551016,12.816326122448984,17.816326122448984,-21.183673877551016,7.8163261224489844,-10.183673877551016,1.8163261224489844,-14.183673877551016,11.816326122448984,-13.183673877551016,5.8163261224489844,0.81632612244898439,10.816326122448984,14.816326122448984,9.8163261224489844,-2.1836738775510156,18.816326122448984,9.8163261224489844,-5.1836738775510156,-19.183673877551016,-8.1836738775510156,-29.183673877551016,13.816326122448984,-8.1836738775510156,10.816326122448984,2.8163261224489844,-4.1836738775510156,-7.1836738775510156,-1.1836738775510156,-0.18367387755101561,-6.1836738775510156,3.8163261224489844,2.8163261224489844,-3.1836738775510156,-5.1836738775510156,-8.1836738775510156,7.8163261224489844,-0.18367387755101561,-1.1836738775510156,-10.183673877551016,-4.1836738775510156,-10.183673877551016,15.816326122448984,-7.1836738775510156,-2.1836738775510156,17.816326122448984,-12.183673877551016,-15.183673877551016,-4.1836738775510156,-14.183673877551016,-3.1836738775510156,-3.1836738775510156,-6.1836738775510156,-10.183673877551016,0.81632612244898439,-0.18367387755101561,19.816326122448984,8.8163261224489844,-9.1836738775510156,-5.1836738775510156,-1.1836738775510156,3.8163261224489844,8.8163261224489844,-1.1836738775510156,-5.1836738775510156,-6.1836738775510156,6.8163261224489844,-3.1836738775510156,0.81632612244898439,-6.1836738775510156,-1.1836738775510156,-6.1836738775510156,-8.1836738775510156,5.8163261224489844,-6.1836738775510156,6.8163261224489844,-4.1836738775510156,10.816326122448984,7.8163261224489844,6.8164261224489877],"y":[-0.67346979591836842,-1.6734697959183684,-8.6734697959183684,-0.67346979591836842,-1.6734697959183684,-4.6734697959183684,-2.6734697959183684,8.3265302040816316,-1.6734697959183684,3.3265302040816316,4.3265302040816316,-6.6734697959183684,-7.6734697959183684,6.3265302040816316,13.326530204081632,-6.6734697959183684,-6.6734697959183684,5.3265302040816316,3.3265302040816316,2.3265302040816316,-5.6734697959183684,-2.6734697959183684,2.3265302040816316,3.3265302040816316,-0.67346979591836842,0.32653020408163158,4.3265302040816316,-6.6734697959183684,2.3265302040816316,-4.6734697959183684,-5.6734697959183684,7.3265302040816316,2.3265302040816316,8.3265302040816316,-4.6734697959183684,-0.67346979591836842,0.32653020408163158,-6.6734697959183684,5.3265302040816316,3.3265302040816316,-8.6734697959183684,0.32653020408163158,1.3265302040816316,4.3265302040816316,-0.67346979591836842,-1.6734697959183684,-10.673469795918368,3.3265302040816316,-4.6734697959183684,2.3265302040816316,-1.6734697959183684,-5.6734697959183684,5.3265302040816316,1.3265302040816316,-4.6734697959183684,-3.6734697959183684,-6.6734697959183684,-1.6734697959183684,2.3265302040816316,5.3265302040816316,-5.6734697959183684,3.3265302040816316,3.3265302040816316,-1.6734697959183684,-10.673469795918368,3.3265302040816316,-8.6734697959183684,2.3265302040816316,2.3265302040816316,0.32653020408163158,2.3265302040816316,0.32653020408163158,2.3265302040816316,-0.67346979591836842,-1.6734697959183684,4.3265302040816316,-3.6734697959183684,-5.6734697959183684,-3.6734697959183684,-7.6734697959183684,-8.6734697959183684,-0.67346979591836842,-0.67346979591836842,5.3265302040816316,2.3265302040816316,-0.67346979591836842,0.32653020408163158,1.3265302040816316,-0.67346979591836842,3.3265302040816316,-0.67346979591836842,14.326530204081632,1.3265302040816316,4.3265302040816316,-3.6734697959183684,1.3265302040816316,11.326530204081632,1.3265302040816316,1.3265302040816316,6.3265302040816316,-1.6734697959183684,-0.67346979591836842,-0.67346979591836842,3.3265302040816316,-5.6734697959183684,1.3265302040816316,0.32653020408163158,0.32653020408163158,2.3265302040816316,1.3265302040816316,3.3265302040816316,-2.6734697959183684,-4.6734697959183684,1.3265302040816316,-3.6734697959183684,-1.6734697959183684,3.3265302040816316,-4.6734697959183684,3.3265302040816316,9.3265302040816316,-6.6734697959183684,1.3265302040816316,3.3265302040816316,1.3265302040816316,-7.6734697959183684,0.32653020408163158,-3.6734697959183684,-4.6734697959183684,-5.6734697959183684,-9.6734697959183684,-0.67346979591836842,2.3265302040816316,2.3265302040816316,-7.6734697959183684,0.32653020408163158,-1.6734697959183684,-6.6734697959183684,15.326530204081632,-4.6734697959183684,0.32653020408163158,5.3265302040816316,0.32653020408163158,0.32653020408163158,-0.67346979591836842,2.3265302040816316,0.32653020408163158,2.3265302040816316,2.3265302040816316,-4.6734697959183684,3.3265302040816316,-6.6734697959183684,1.3265302040816316,0.32653020408163158,0.32653020408163158,4.3265302040816316,12.326530204081632,4.3265302040816316,-0.67346979591836842,7.3265302040816316,-3.6734697959183684,5.3265302040816316,0.32653020408163158,-3.6734697959183684,-6.6734697959183684,-3.6734697959183684,-4.6734697959183684,7.3265302040816316,-1.6734697959183684,-0.67346979591836842,-0.67346979591836842,-3.6734697959183684,-3.6734697959183684,3.3265302040816316,-1.6734697959183684,-0.67346979591836842,4.3265302040816316,-0.67346979591836842,4.3265302040816316,1.3265302040816316,-2.6734697959183684,-0.67346979591836842,5.3265302040816316,7.3265302040816316,-2.6734697959183684,-1.6734697959183684,0.32653020408163158,-4.6734697959183684,0.32653020408163158,0.32653020408163158,-4.6734697959183684,3.3265302040816316,-0.67346979591836842,3.3265302040816316,-5.6734697959183684,2.3265302040816316,1.3265302040816316,10.326530204081632,2.3265302040816316,-1.6734697959183684,6.3265302040816316,-4.6734697959183684,-0.67346979591836842,1.3265302040816316,4.3265302040816316,-1.6734697959183684,7.3265302040816316,0.32653020408163158,-5.6734697959183684,-8.6734697959183684,3.3265302040816316,1.3265302040816316,9.3265302040816316,-5.6734697959183684,0.32653020408163158,6.3265302040816316,8.3265302040816316,2.3265302040816316,3.3265302040816316,6.3265302040816316,5.3265302040816316,-7.6734697959183684,4.3265302040816316,11.326530204081632,-2.6734697959183684,0.32653020408163158,1.3265302040816316,9.3265302040816316,0.32653020408163158,-4.6734697959183684,-1.6734697959183684,0.32653020408163158,4.3265302040816316,-3.6734697959183684,-2.6734697959183684,-7.6734697959183684,-4.6734697959183684,-3.6734697959183684,-2.6734697959183684,-0.67346979591836842,-7.6734697959183684,-10.673469795918368,-1.6734697959183684,-3.6734697959183684,0.32653020408163158,1.3266302040816313],"z":[18,36,51,18,23,30,8,40,28,15,49,27,12,43,47,21,32,33,25,30,41,25,45,33,29,44,28,20,45,28,18,29,24,55,26,46,19,25,29,32,32,12,27,33,28,34,28,24,28,25,9,35,36,40,30,14,22,31,18,15,31,11,30,9,7,48,21,43,28,28,13,25,35,13,15,14,29,24,5,11,24,28,22,35,32,8,31,18,34,27,7,32,22,42,10,16,40,28,29,41,16,28,24,17,10,33,14,32,16,19,30,13,7,28,42,39,48,22,34,40,26,10,26,7,17,23,18,3,20,22,31,31,40,22,27,31,26,40,20,13,35,14,34,35,17,31,23,36,21,31,35,17,33,32,18,44,10,22,18,42,52,33,26,15,16,42,29,20,29,17,28,8,38,37,50,42,23,24,21,19,19,30,50,34,21,27,24,16,13,21,15,21,29,40,21,30,26,20,14,33,38,16,35,9,29,21,24,2,21,25,24,39,22,21,38,50,35,22,37,29,31,24,34,29,31,44,31,28,25,35,14,46,25,25,29,24,20,26,20,40,3,37,0,18,24.0001],"type":"scatter3d","mode":"markers","name":"Data points","marker":{"color":"rgba(145,145,145,1)","size":[55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55],"sizemode":"area","line":{"color":"rgba(145,145,145,1)"}},"textfont":{"color":"rgba(145,145,145,1)","size":55},"error_y":{"color":"rgba(145,145,145,1)","width":55},"error_x":{"color":"rgba(145,145,145,1)","width":55},"line":{"color":"rgba(145,145,145,1)","width":55},"frame":null},{"x":[-20.213911804624246,-10.106955902312121,3.5527136788005009e-15,10.10695590231213,20.213911804624253],"y":[-4.7752254329827499,-4.7752254329827499,-4.7752254329827499,-4.7752254329827499,-4.7752254329827499],"z":[31.093905180435215,26.168846139883488,21.243787099331758,16.318728058780025,11.393669018228294],"type":"scatter3d","mode":"lines","line":{"color":"black","width":10,"dash":"dash"},"name":"-1 SD line","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"frame":null},{"x":[-20.213911804624246,-10.106955902312121,3.5527136788005009e-15,10.10695590231213,20.213911804624253],"y":[4.7752254329827482,4.7752254329827482,4.7752254329827482,4.7752254329827482,4.7752254329827482],"z":[31.263085244799182,30.898370724691183,30.533656204583192,30.168941684475193,29.804227164367198],"type":"scatter3d","mode":"lines","line":{"color":"black","width":10,"dash":"dash"},"name":"+1 SD line","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="unformatted-2d-graph" class="level3" data-number="7.4.2">
<h3 data-number="7.4.2" class="anchored" data-anchor-id="unformatted-2d-graph"><span class="header-section-number">7.4.2</span> Unformatted 2D graph</h3>
<p>You can obtain the 2D graph (cross-section of the 3D surface) with the code below. We need to adjust the graph a bit before it’s presentable. But to do so we first need to inspect tables created by the fast.int() command.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>unformatted_ggplot_graph <span class="ot">&lt;-</span> mmr_output<span class="sc">$</span>graph2D.unformatted</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(unformatted_ggplot_graph)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mmr_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tables" class="level3" data-number="7.4.3">
<h3 data-number="7.4.3" class="anchored" data-anchor-id="tables"><span class="header-section-number">7.4.3</span> Tables</h3>
<p>We inspect MS Word file created by the fast.int() command below. The commands save the table in the file “tables_mmr.doc” – as specified. It presents the results of the various regression in tables corresponding to APA style.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch_mmr/images/tables_apa.png" class="img-fluid figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="formatted-2d-graph" class="level3" data-number="7.4.4">
<h3 data-number="7.4.4" class="anchored" data-anchor-id="formatted-2d-graph"><span class="header-section-number">7.4.4</span> Formatted 2D graph</h3>
<p>We inspect the Table output and find the value for -1/+1 SD of the moderator (age) in Table 2. In this case, we find the value is 4.775. So we use this to set the <em>x</em>-axis ticks That way the ticks on the <em>x</em>-axis correspond to standard deviations.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>custom_formatted_ggplot_graph <span class="ot">&lt;-</span> unformatted_ggplot_graph <span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">40</span>)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">40</span>, <span class="at">by =</span> <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">4.775</span><span class="sc">*</span><span class="dv">2</span>, <span class="fl">4.775</span><span class="sc">*</span><span class="dv">2</span>, <span class="at">by =</span> <span class="fl">4.775</span>)) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Exercise (centered)"</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Endurance"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">linetype =</span> <span class="st">"Age (centered)"</span>) <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>(<span class="dv">18</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(custom_formatted_ggplot_graph)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mmr_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="saving" class="level4" data-number="7.4.4.1">
<h4 data-number="7.4.4.1" class="anchored" data-anchor-id="saving"><span class="header-section-number">7.4.4.1</span> Saving</h4>
<p>We can save the 2D plot with the following command:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"graph_2D_interaction.png"</span>, custom_formatted_ggplot_graph)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
</section>
<section id="powersample-size-analysis" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="powersample-size-analysis"><span class="header-section-number">7.5</span> Power/sample size analysis</h2>
<p>If you examine a large number of studies involving moderated multiple regression you will see that the <span class="math inline">\(sr^2\)</span> (i.e., <span class="math inline">\(\Delta R^2\)</span>) for the product term (e.g., age*exercise) typically ranges from .01 to .04 and only rarely falls out of this range - regardless of the variables involved. Consequently, to conduct a sample size analysis for a moderated mulitple regression you need to do three things:</p>
<ol type="1">
<li><p>Estimate the size of the <span class="math inline">\(sr^2\)</span> value (i.e., in the .01 to .04 range) for your study.</p></li>
<li><p>Estimate the overall <span class="math inline">\(R^2\)</span> value for your study.</p></li>
<li><p>Plug both of those values into the <a href="https://dstanley4.github.io/psyc6380/mr-sample-size.html#sample-size-using-sr2">sample size calculation</a> provided in the multiple regression lecture.</p></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./mr-sample-size.html" class="pagination-link" aria-label="Sample size for multiple regression">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Sample size for multiple regression</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./oneway-reg-anova.html" class="pagination-link" aria-label="One-way ANOVA via Regression">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">One-way ANOVA via Regression</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>