[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "PSYC 6380 Psychological Applications of Multivariate Analysis",
    "section": "",
    "text": "Preface\nThis is a Quarto book.\nTo learn more about Quarto books visit https://quarto.org/docs/books.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "qualtrics.html#overview",
    "href": "qualtrics.html#overview",
    "title": "1  Qualtrics",
    "section": "1.1 Overview",
    "text": "1.1 Overview\nThere are two tasks covered in this chapter: 1) importing surveys into Qualtrics and 2) moving data from Qualtrics to R. An overview of each process is below.\n1. Importing items into Qualtrics\n\nCreate a survey codebook in Excel (or similar program) that has each item and the response options for it\nConvert the survey codebook to Qualtrics Advanced Text Format\nImport the items\nTweak the survey after import\n\n2. Qualtrics Data to R\n\nExport the raw data from Qualtrics with maximal information in the data file\nLoad the raw data into R\nConvert the raw data to analytic data. This conversion includes: assigning values to response options (e.g., “Strongly Disagree” to a numeric value), flipping response for reverse-worded (i.e., reverse-keyed) items, and creating scale scores.\n\nThe overall steps are quite simple and I walk you through each step in detail below."
  },
  {
    "objectID": "qualtrics.html#required",
    "href": "qualtrics.html#required",
    "title": "1  Qualtrics",
    "section": "1.2 Required",
    "text": "1.2 Required\nThe files below are used in this chapter. Right click to save each file.\n\n\n\nRelevant files\n\n\n\n\nsurvey_codebook.csv\n\n\nitems_qualtrics_format.txt\n\n\ndata_qualtrics.csv\n\n\nscript_qualtrics.R\n\n\n\nThe following CRAN packages must be installed:\n\n\n\nRequired CRAN Packages\n\n\n\n\ntidyverse\n\n\njanitor\n\n\nremotes\n\n\n\nThe following GitHub packages must be installed:\n\n\n\nRequired GitHub Packages\n\n\n\n\ndstanley4/qualtricsMaker\n\n\n\nA GitHub package can be installed using the code below:\n\nremotes::install_github(\"dstanley4/qualtricsMaker\")"
  },
  {
    "objectID": "qualtrics.html#items-to-qualtrics",
    "href": "qualtrics.html#items-to-qualtrics",
    "title": "1  Qualtrics",
    "section": "1.3 Items to Qualtrics",
    "text": "1.3 Items to Qualtrics\nThere are two approaches to entering survey items into Qualtrics.\n\nEnter the items one at a time using the Qualtrics web interface.\nCreate a text file in the Qualtrics Advanced Text Format and import the items. Be warned though a bit of tweaking is often still needed using the web interface.\n\nHere we focus only on the second approach to entering items into Qualtrics.\n\n1.3.1 Create survey codebook\nThe easy way to create items in the Advanced Text Format is to use the qualtricsMaker package. With this package you create a spreadsheet with the items and then convert that spreadsheet to the Advanced Text Format.\nConsider a scenario where we want to create a survey that contains 2 demographics items, 18 commitment items, and 4 job satisfaction items. The three-component model of commitment items are from (meyer1993commitment?) and the job satisfaction items are from (thompson2012brief?).\nWe begin by creating a survey codebook spreadsheet in Excel (or similar program). The spreadsheet should have the columns with the names: block, item_name, item_text, type, response_options. The completed file ( survey_codebook.csv) is illustrated below. I provide a detailed description of what should be placed in each column after the figure. Remember to work from the guiding principle that one row is used for one item/question.\n\n\n\n\n\n\n1.3.1.1 block column\nEnter any text you wish to use as a label for a block of items.\n\n\n1.3.1.2 item_name column\nTo make your life easier down the road, it is critical you set up your spreadsheet or online survey such that it uses a naming convention prior to data collection. Recall the naming convention from the previous chapter.\n\n\n1.3.1.3 item_text column\nThe item_text column contains the text for each item. Note that if you use commas in your item text do not save this file as a .csv file - it will not work. Rather save it as .tsv file (tab separated values). Then use read_tsv command instead of the read_csv command in the code that follows later.\n\n\n1.3.1.4 type column\n\n\n\n\n\n\n\n\nCode for type column\nQualtrics Item Type\nAdditional Information\n\n\n\n\nmatrix\nmatrix\nIf the first item in a block has type matrix all items in the block will be used to construct the matrix question. Unfortunately, importing item_names for matrix questions is not supported by Qualtrics. You will need to manually restore your item_names following the directions below for matrix items.\n\n\nMC\nmultiple choice vertical format\n\n\n\nMC_horizontal\nmultiple choice horizontal format\n\n\n\nMC_multi_horizontal\nmultiple choice horizontal format multiple answers\n\n\n\nMC_select\nselect box\n\n\n\nMC_multi_select\nselect multiple boxes\n\n\n\nMC_dropdown\ndropdown\n\n\n\n\n\n\n1.3.1.5 response_options column\nThe Likert items for the different blocks use different response options. The commitment items use a 7-point response option whereas the job satisfaction items use a 5-point response option.\n\n1.3.1.5.1 Year of birth\nWe used a number of response options to indicate Year of Birth. We entered them as per below. Each response option is separated by a semi-colon. Each of the years below will be in the dropdown button.\nEntered in the response_option column as below. Each option separated by a semicolon.\n1940;1941;1942;1943;1944;1945;1946;1947;1948;1949;1950;1951;1952;1953;1954;1955;1956;1957;1958;1959;1960;1961;1962;1963;1964;1965;1966;1967;1968;1969;1970;1971;1972;1973;1974;1975;1976;1977;1978;1979;1980;1981;1982;1983;1984;1985;1986;1987;1988;1989;1990;1991;1992;1993;1994;1995;1996;1997;1998;1999;2000;2001;2002;2003;2004;2005;2006;2007;2008;2009;2010\n\n\n1.3.1.5.2 Sex 3 points\nPlease note that in psychology we distinguish between sex and gender. We use the term “sex” to refer to underlying biology. In contrast, we use the term “gender” to refer a psychological construct (i.e., gender identity). A person’s sex and gender may be quite different. Depending on the theory used in a study, you might be interested in sex or gender or both. In this example, we are using sex but not gender. If you were asking about gender - you would have a much longer (and quite different) list of options.\nEntered in the response_option column as below. Each option separated by a semicolon.\nmale; female; intersex\n\n\n1.3.1.5.3 Commitment 7 points\nEntered in the response_option column as below. Each option separated by a semicolon.\nStrongly Disagree;Moderately Disagree;Slightly Disagree;Neither Agree nor Disagree;Slightly Agree;Moderately Agree;Strongly Agree\n\n\n1.3.1.5.4 Job Satisfaction 5 points\nEntered in the response_option column as below. Each option separated by a semicolon.\nStrongly Disagree; Disagree; Neutral; Agree; Strongly Agree\n\n\n\n\n1.3.2 Convert to Qualtrics format\n\n1.3.2.1 Create TXT file\nOnce you have the survey codebook above, you need to convert it to an Advanced Text Format .txt file. We can do so by following the steps below. The instructions differ slightly for RStudio Cloud and RStudio - both are presented.\n\n1.3.2.1.1 RStudio on your computer\n\nCreate a folder on your computer called “new_survey” with the survey_codebook.csv file in it.\nOpen RStudio. Then go to File > New Project… and select Existing Directory.\n\n\n\n\n\n\n\nThen find and select the “new_survey” folder on your hard drive and click the Create Project button.\n\n\n\n\n\n\n\nYou should previously have installed the remotes and tidyverse packages from the CRAN and the qualtricsMaker package from GitHub. If you haven’t done this already type the commands below into the Console.\n\nInstalling Packages from the CRAN\n\ninstall.packages(\"tidyverse\", dep = TRUE)\ninstall.packages(\"remotes\", dep = TRUE)\n\nInstalling Package from GitHub\nThen install the qualtricsMaker package from GitHub:\n\nremotes::install_github(\"dstanley4/qualtricsMaker\")\n\n\nCreate a new script by going to File > New File > R Script. A new script will appear in RStudio. Immediately press Control-S to save the script. Call it “script_convert.R”.\n\n\n\n\n\n\n\nPlace the code below into the script and press Control-S to save your work.\n\n\nlibrary(tidyverse)\nlibrary(qualtricsMaker)\n\nsurvey_codebook <- read_csv(\"survey_codebook.csv\",\n                            show_col_types = FALSE)\n\nmake_survey(survey_codebook,\n            filename = \"items_qualtrics_format.txt\")\n\n\nRun the script by pressing the Source button in the top right of the the Script window. Doing so will create the items_qualtrics_format.txt file that you will import into Qualtrics. You can see the file after it has been created in the Files tab below.\n\n\n\n\n\n\nCongratulations - your items are ready to be imported into Qualtrics. Move on to the “Import the items” section.\n\n\n1.3.2.1.2 RStudio Cloud\n\nOpen a new project in RStudio Cloud\nYou should previously have installed the remote and tidyverse package from the CRAN and the qualtricsMaker package from GitHub. If you haven’t done this already type the commands below into the Console.However, if you are working from a class project I created these packages will have been installed already for you.\n\n\ninstall.packages(\"tidyverse\", dep = TRUE)\ninstall.packages(\"remotes\", dep = TRUE)\n\nThen install the qualtricsMaker package from GitHub:\n\nremotes::install_github(\"dstanley4/qualtricsMaker\")\n\n\nImport the survey_codebook.csv file by using the Upload button in the Files tab in the lower right panel.\n\n\n\n\n\n\n\nClick the Choose File button and select the survey_codebook.csv file on your hard drive. Then click OK. The survey_codebook.csv file will then appear on the Files tab within RStudio Cloud.\n\n\n\n\n\n\n\nCreate a new script by going to File > New File > R Script. A new script will appear in RStudio. Immediately press Control-S to save the script. Call it “script_convert.R”.\n\n\n\n\n\n\n\nPlace the code below into the script and press Control-S to save your work.\n\n\nlibrary(tidyverse)\nlibrary(qualtricsMaker)\n\nsurvey_codebook <- read_csv(\"survey_codebook.csv\",\n                            show_col_types = FALSE)\n\nmake_survey(survey_codebook,\n            filename = \"items_qualtrics_format.txt\")\n\n\nRun the script by pressing the Source button in the top right of the the Script window. Doing so will create the items_qualtrics_format.txt file that you will import into Qualtrics. You can see the file after it has been created in the Files tab below.\n\n\n\n\n\n\n\nSelect the checkbox beside the file you just created: items_qualtrics_format.txt\n\n\n\n\n\n\n\nSelect Export from the More menu.\n\n\n\n\n\n\n\nLeave the filename as it appears and click the Download button. The file will appear in the Downloads directory on your computer.\n\n\n\n\n\n\n\nMove the file (items_qualtrics_format.txt) from the Download folder to an easy to access place (e.g. the Desktop).\n\nCongratulation - your items are ready to be imported into Qualtrics. Move on to the “Import the items” section.\n\n\n\n\n1.3.3 Import the items\nIn the previous step you created items_qualtrics_format.txt. This file is illustrated below - well the middle of the file is illustrated below. You can think of the file created by the survey_maker command above as a starting point. You could open up this file in a text editor and make further modifications or additions based on learning the Advanced Text Format. For example, you might not want the matrix items to be in their own block. If so, you would simply remove the block text [[Block:Commitment]] from the text file prior to following the directions below. If you’re a Mac user you might find the text editor BBEdit helpful for this purpose – the free version is sufficient. After you download BBEdit you have access to all of its features. Once the free trial ends - the core features are still free. You only need to purchase it if you want the advanced features (and you won’t need the advanced features).\n\n\n\n\n\n\n1.3.3.0.1 Begin the import by logging into Qualtrics\nBegin by logging into Qualtrics via the University of Guelph site for Data Collection & Surveys. After you log in, continue below.\n\n\n1.3.3.0.2 Click the Create New Project button in the top right of the page.\n\n\n\n\n\n\n\n1.3.3.1 Under Projects from Scratch select “Survey” by clicking on it.\n\n\n\n\n\n\n\n1.3.3.2 Click the Get Started button in the lower right of the page.\n\n\n\n\n\n\n\n1.3.3.3 Enter project name, click Create Project\n\n\n\n\n\n\n\n1.3.3.4 Use the Tools menu to import the items\nSelect the Import option and then specify the filename (items_qualtrics_format.txt) for the Advanced Text import file with the items in it.\n\n\n\n\n\nCongratulation - your items have been imported into Qualtrics.\n\n\n1.3.3.5 Remove the default Empty Question block at the top of the survey\nScroll to the top of the survey and you will see a Default Question Block above your first block. Click on the three dots “…” in the top right of this block and select Delete to remove it.\n\n\n\n\n\n\n\n\n1.3.4 Tweak survey in Qualtrics\nNow you need to tweak the survey using the Qualtrics interface. Recall that when you import items into Qualtrics, matrix-style questions will loose their item names. You need to manually restore the item names for matrix questions now.\n\nBegin by scrolling down to a block of matrix-style questions. Select the block so it gets a blue rectangle around it.\n\n\n\n\n\n\n\nOn the left side menu go the “Question Behaviour” menu and select “Recode values”\n\n\n\n\n\n\n\nClick the Export Question Tags check box. You will see the default names for the items (instead of the ones you indicated in the codebook). Click the Close button in the lower right when you’re done.\n\n\n\n\n\n\n\nManually restore the item names from the survey codebook by clicking the blue name for each item and fixing it. Don’t forget to use proper item naming formats and include the reverse-key status of each item.\n\n\n\n\n\n\n\nCollect your data!"
  },
  {
    "objectID": "qualtrics.html#qualtrics-data-to-r",
    "href": "qualtrics.html#qualtrics-data-to-r",
    "title": "1  Qualtrics",
    "section": "1.4 Qualtrics data to R",
    "text": "1.4 Qualtrics data to R\nFollowing data collection, you can obtain your data from Qualtrics. As of 2021, Tri-Agency (NSERC, SSHRC, CIHR) policy is that data collected with Tri-Agency funded research must be available for reuse by others. The data should follow the FAIR (Findable, Accessible, Interoperable, and Reusable) principle. Consequently, when you export the data from Qualtrics (and eventually post it) we want to ensure it has as much information in it as possible. This principle guides the options we select below.\n\n1.4.1 Export from Qualtrics\n\n1.4.1.1 Click the Data & Analysis tab\n\n\n\n\n\n\n\n1.4.1.2 Click the Export & Import button\nThen click the Export Data… option.\n\n\n\n\n\n\n\n1.4.1.3 Click Use Choice Text\nTo ensure the data can be used by others, as per the FAIR policy described above, we SELECT the “Use Choice Text” option when exporting data. If you were to (non-optimally) select “Use numeric value” as an export option then the resulting data file would be missing information that make it difficult for others to use. Then click the Download button.\n\n\n\n\n\nThe file will appear in your downloads directory.\n\nIt will likely be a zipped filed. Unzip the file before proceeding. On a Mac, you can just double click the file to do so.\nRename the file to data_qualtrics.csv\n\n\n\n\n1.4.2 Load data in R\nTo load the data in R follow the steps below\n\nCreate a new folder called “survey_data”\nDrag the data_qualtrics.csv file to the survey_data folder.\nUse the steps described previously on this page, use RStudio to create project for this data.\nYou may be tempted to load the data using the usual read_csv() process. This will be problematic due to the way the data is formatted in the .csv file. (see image below.)\n\n\n\n\n\n\n\nYou can see by inspecting the data screenshot above that a variety of columns have been included before our first data column (year_of_birth) which appears on the far right of screenshot. Also note that there are three header rows at the top of the file before the data which starts on row 4. So there are few problems that need to be addressed when we load data from Qualtrics.\n\n\nObtain the names from the first header row but read the data from row 4 on.\nRemove some, or all, of the additional columns on the left side of data set added by Qualtrics\nEnsure our variable names follow the tidyverse style guide\nEnsure we DO NOT modify the data_qualtrics.csv file in Excel or other program. That would destroy the reproducibility of our work in the very first step.\n\n\n\n1.4.3 Convert to analytic data\nThe issues described above are all solved with the script below.\nAdditionally, in the script we also:\n\nConvert categorical variable to factors\nScreen both numeric variables and factors for impossible values\nConvert Likert items from labels (e.g., “Strongly Disagree”) to numbers (e.g., 1)\nFlip reverse-key (i.e., reverse worded items) so they are scored in the right direction\nCombine items (e.g., aff_com1_likert7) for the same measure into a single scale score (e.g., affective_commitment)\nRemove item columns (e.g., aff_com1_likert7) after that have been combined into the scale score while retaining the scale score column column (e.g., affective_commitment)\n\n\n1.4.3.1 Load Data\n\n# Date: YYYY-MM-DD\n# Name: your name here\n# Example: Single occasion survey\n\n# Load data\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(skimr)\n\n# read the file in the normal way and get just the names of the columns.\n# put the names into the col_names\nsurvey_file <- \"data_qualtrics.csv\"\ncol_names <- names(read_csv(survey_file,\n                            n_max = 0,\n                            show_col_types = FALSE))\n\n# skip the first 3 rows than read in the data and use names from above\nraw_data <- read_csv(survey_file,\n                  col_names = col_names, \n                  skip = 3,\n                  show_col_types = FALSE)\n\nRemove the Qualtrics columns you probably don’t want:\n\n# list of Qualtrics columns you probably don't want\ncols_to_maybe_remove <- c(\"StartDate\",\n                          \"EndDate\",\n                          \"Status\",\n                          \"IPAddress\",\n                          \"Progress\",\n                          \"Duration (in seconds)\",\n                          \"Finished\",\n                          \"RecordedDate\",\n                          \"ResponseId\",\n                          \"RecipientLastName\",\n                          \"RecipientFirstName\",\n                          \"RecipientEmail\",\n                          \"ExternalReference\",\n                          \"LocationLatitude\",\n                          \"LocationLongitude\",\n                          \"DistributionChannel\",\n                          \"UserLanguage\")\n\n# check to see overlap with actual column names in data file\n# put names to remove (that are present) into cols_to_remove\ncols_to_remove_id <- col_names %in% cols_to_maybe_remove\ncols_to_remove <- col_names[cols_to_remove_id]\n\n# remove the unwanted Qualtrics columns\nraw_data <- raw_data %>% \n  select(!all_of(cols_to_remove))\n\nWe make a copy of the data called analytic_data_survey since the goals of the next several steps are to prepare the data for analysis.\n\nanalytic_data_survey <- raw_data\n\nIn the command below, we ensure our column names follow the tidyverse style guide by using the clean_names() command from the janitor package. Additionally, we remove empty row and columns from the data using the remove_empty_cols() and remove_empty_rows(), respectively.\n\n# Initial cleaning\n## Convert column names to tidyverse style guide\n## Remove empty rows and columns\nanalytic_data_survey <- analytic_data_survey %>%\n  remove_empty(\"rows\") %>%\n  remove_empty(\"cols\") %>%\n  clean_names()\n\nYou can confirm the column names following our naming convention with the glimpse command - and see the data type for each column.\n\nglimpse(analytic_data_survey)\n\nRows: 150\nColumns: 24\n$ year_of_birth        <dbl> 1961, 2006, 2008, 1985, 1953, 1957, 1998, 1970, 1…\n$ sex                  <chr> \"female\", \"female\", \"female\", \"male\", \"intersex\",…\n$ aff_com1_likert7     <chr> \"Slightly Agree\", \"Neither Agree nor Disagree\", \"…\n$ aff_com2_likert7     <chr> \"Slightly Agree\", \"Slightly Disagree\", \"Neither A…\n$ aff_com3_likert7rev  <chr> \"Strongly Disagree\", \"Neither Agree nor Disagree\"…\n$ aff_com4_likert7rev  <chr> \"Moderately Disagree\", \"Strongly Agree\", \"Moderat…\n$ aff_com5_likert7rev  <chr> \"Strongly Disagree\", \"Neither Agree nor Disagree\"…\n$ aff_com6_likert7     <chr> \"Moderately Agree\", \"Strongly Agree\", \"Strongly D…\n$ contin_com1_likert7  <chr> \"Strongly Agree\", \"Neither Agree nor Disagree\", \"…\n$ contin_com2_likert7  <chr> \"Slightly Agree\", \"Slightly Agree\", \"Slightly Dis…\n$ contin_com3_likert7  <chr> \"Strongly Disagree\", \"Slightly Disagree\", \"Strong…\n$ contin_com4_likert7  <chr> \"Moderately Agree\", \"Neither Agree nor Disagree\",…\n$ contin_com5_likert7  <chr> \"Slightly Agree\", \"Slightly Agree\", \"Strongly Dis…\n$ contin_com6_likert7  <chr> \"Moderately Disagree\", \"Moderately Disagree\", \"St…\n$ norm_com1_likert7rev <chr> \"Neither Agree nor Disagree\", \"Slightly Disagree\"…\n$ norm_com2_likert7    <chr> \"Moderately Disagree\", \"Moderately Agree\", \"Stron…\n$ norm_com3_likert7    <chr> \"Neither Agree nor Disagree\", \"Neither Agree nor …\n$ norm_com4_likert7    <chr> \"Moderately Disagree\", \"Moderately Disagree\", \"St…\n$ norm_com5_likert7    <chr> \"Strongly Disagree\", \"Strongly Disagree\", \"Strong…\n$ norm_com6_likert7    <chr> \"Strongly Agree\", \"Strongly Disagree\", \"Moderatel…\n$ job_aff1_likert5     <chr> \"Strongly Agree\", \"Strongly Agree\", \"Neutral\", \"S…\n$ job_aff2_likert5     <chr> \"Strongly Disagree\", \"Strongly Agree\", \"Strongly …\n$ job_aff3_likert5     <chr> \"Neutral\", \"Strongly Disagree\", \"Disagree\", \"Stro…\n$ job_aff4_likert5     <chr> \"Disagree\", \"Strongly Agree\", \"Agree\", \"Strongly …\n\n\n\n\n1.4.3.2 Creating factors\nFollowing initial cleaning, we identify categorical variables as factors.\n\nglimpse(analytic_data_survey)\n\nRows: 150\nColumns: 24\n$ year_of_birth        <dbl> 1961, 2006, 2008, 1985, 1953, 1957, 1998, 1970, 1…\n$ sex                  <chr> \"female\", \"female\", \"female\", \"male\", \"intersex\",…\n$ aff_com1_likert7     <chr> \"Slightly Agree\", \"Neither Agree nor Disagree\", \"…\n$ aff_com2_likert7     <chr> \"Slightly Agree\", \"Slightly Disagree\", \"Neither A…\n$ aff_com3_likert7rev  <chr> \"Strongly Disagree\", \"Neither Agree nor Disagree\"…\n$ aff_com4_likert7rev  <chr> \"Moderately Disagree\", \"Strongly Agree\", \"Moderat…\n$ aff_com5_likert7rev  <chr> \"Strongly Disagree\", \"Neither Agree nor Disagree\"…\n$ aff_com6_likert7     <chr> \"Moderately Agree\", \"Strongly Agree\", \"Strongly D…\n$ contin_com1_likert7  <chr> \"Strongly Agree\", \"Neither Agree nor Disagree\", \"…\n$ contin_com2_likert7  <chr> \"Slightly Agree\", \"Slightly Agree\", \"Slightly Dis…\n$ contin_com3_likert7  <chr> \"Strongly Disagree\", \"Slightly Disagree\", \"Strong…\n$ contin_com4_likert7  <chr> \"Moderately Agree\", \"Neither Agree nor Disagree\",…\n$ contin_com5_likert7  <chr> \"Slightly Agree\", \"Slightly Agree\", \"Strongly Dis…\n$ contin_com6_likert7  <chr> \"Moderately Disagree\", \"Moderately Disagree\", \"St…\n$ norm_com1_likert7rev <chr> \"Neither Agree nor Disagree\", \"Slightly Disagree\"…\n$ norm_com2_likert7    <chr> \"Moderately Disagree\", \"Moderately Agree\", \"Stron…\n$ norm_com3_likert7    <chr> \"Neither Agree nor Disagree\", \"Neither Agree nor …\n$ norm_com4_likert7    <chr> \"Moderately Disagree\", \"Moderately Disagree\", \"St…\n$ norm_com5_likert7    <chr> \"Strongly Disagree\", \"Strongly Disagree\", \"Strong…\n$ norm_com6_likert7    <chr> \"Strongly Agree\", \"Strongly Disagree\", \"Moderatel…\n$ job_aff1_likert5     <chr> \"Strongly Agree\", \"Strongly Agree\", \"Neutral\", \"S…\n$ job_aff2_likert5     <chr> \"Strongly Disagree\", \"Strongly Agree\", \"Strongly …\n$ job_aff3_likert5     <chr> \"Neutral\", \"Strongly Disagree\", \"Disagree\", \"Stro…\n$ job_aff4_likert5     <chr> \"Disagree\", \"Strongly Agree\", \"Agree\", \"Strongly …\n\n\n\n1.4.3.2.1 Sex\nThere is only one variable that we will convert to a factor and that’s the sex variable. We convert it to a factor with the command below.\n\n# Convert variables to factors as needed\n## Convert sex to factor\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(sex = as_factor(sex))\n\n\n\n1.4.3.2.2 Participant identification\nIn many analyses we will need a column with a unique identification number that is a factor. We don’t see one in this data set so we create it with the name participant_id.\n\n## Participant identification to factor\n## Participant identification column must be created first\n## get the number of rows in the data set\nN <- dim(analytic_data_survey)[1] \n\n## create set of factor levels\nparticipant_id_levels <- factor(seq(1, N))\n\n## put the factor levels into a column called participant_id\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(participant_id = participant_id_levels)\n\nYou can ensure all of these columns are now factors using the glimpse() command.\n\nanalytic_data_survey %>%\n  select(sex, participant_id) %>%\n  glimpse()\n\nRows: 150\nColumns: 2\n$ sex            <fct> female, female, female, male, intersex, intersex, inter…\n$ participant_id <fct> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, …\n\n\n\n\n\n1.4.3.3 Factor screening\nInspect the levels of each factor carefully. Make sure the factor levels of each variable are correct. Examine spelling and look for additional unwanted levels. For example, you wouldn’t want to have the following levels for sex: male, mmale, female. Obviously, mmale is an incorrectly typed version of male. Scan all the factors in your data for erroneous factor levels. The code below displays the factor levels for sex:\n\n# Screen factors\n## screen\nanalytic_data_survey %>%\n  select(sex) %>%\n  summary()\n\n       sex    \n female  :43  \n male    :49  \n intersex:58  \n\n\nYou can see in the above output there are three levels for sex in this data set: female, male and intersex. You can also see beside each of these labels the number of participants for each category.\nNotice the order of the factor levels: female, male, and intersex. This will be the order they appear in graphs and tables. We might want another order. If we did want another order, we could use the code below to establish the custom order for graphs and tables: female, intersex, male. Of course, you can use any order you want that makes sense for the context and your research question.\n\n## change to desired order\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(sex = fct_relevel(sex,\n                           \"female\",\n                           \"intersex\",\n                           \"male\"))\n\n\n\n1.4.3.4 Numeric screening\nFor numeric variables, it’s important to find and remove impossible values. We only have year_of_birth as a numeric column - so we can easily check for nonsense values with the code below:\n\n# Screen numeric variables\nanalytic_data_survey %>%\n  select(year_of_birth) %>%\n  skim()\n\n\n\n  skim_variable n_missing    mean    sd   p0  p50 p100\n1 year_of_birth         0 1973.88 20.06 1940 1970 2010\n\n\n\n\n1.4.3.5 Item values from labels\nRecall that when we obtained our data from Qualtrics we selected “Use Choice Text”. That means that, as desired, we didn’t get values for our Likert items - we obtained labels. Now we need to switch the Likert responses to numeric values. The advantage of handling our data in this way is that anyone examining our data and code in an open access repository can see exactly what options survey participants were provided with for each question.\nBut prior to beginning check out the type for each Likert column below using the glimpse() command notice that are all of type “chr”.\n\nanalytic_data_survey %>% glimpse()\n\nRows: 150\nColumns: 25\n$ year_of_birth        <dbl> 1961, 2006, 2008, 1985, 1953, 1957, 1998, 1970, 1…\n$ sex                  <fct> female, female, female, male, intersex, intersex,…\n$ aff_com1_likert7     <chr> \"Slightly Agree\", \"Neither Agree nor Disagree\", \"…\n$ aff_com2_likert7     <chr> \"Slightly Agree\", \"Slightly Disagree\", \"Neither A…\n$ aff_com3_likert7rev  <chr> \"Strongly Disagree\", \"Neither Agree nor Disagree\"…\n$ aff_com4_likert7rev  <chr> \"Moderately Disagree\", \"Strongly Agree\", \"Moderat…\n$ aff_com5_likert7rev  <chr> \"Strongly Disagree\", \"Neither Agree nor Disagree\"…\n$ aff_com6_likert7     <chr> \"Moderately Agree\", \"Strongly Agree\", \"Strongly D…\n$ contin_com1_likert7  <chr> \"Strongly Agree\", \"Neither Agree nor Disagree\", \"…\n$ contin_com2_likert7  <chr> \"Slightly Agree\", \"Slightly Agree\", \"Slightly Dis…\n$ contin_com3_likert7  <chr> \"Strongly Disagree\", \"Slightly Disagree\", \"Strong…\n$ contin_com4_likert7  <chr> \"Moderately Agree\", \"Neither Agree nor Disagree\",…\n$ contin_com5_likert7  <chr> \"Slightly Agree\", \"Slightly Agree\", \"Strongly Dis…\n$ contin_com6_likert7  <chr> \"Moderately Disagree\", \"Moderately Disagree\", \"St…\n$ norm_com1_likert7rev <chr> \"Neither Agree nor Disagree\", \"Slightly Disagree\"…\n$ norm_com2_likert7    <chr> \"Moderately Disagree\", \"Moderately Agree\", \"Stron…\n$ norm_com3_likert7    <chr> \"Neither Agree nor Disagree\", \"Neither Agree nor …\n$ norm_com4_likert7    <chr> \"Moderately Disagree\", \"Moderately Disagree\", \"St…\n$ norm_com5_likert7    <chr> \"Strongly Disagree\", \"Strongly Disagree\", \"Strong…\n$ norm_com6_likert7    <chr> \"Strongly Agree\", \"Strongly Disagree\", \"Moderatel…\n$ job_aff1_likert5     <chr> \"Strongly Agree\", \"Strongly Agree\", \"Neutral\", \"S…\n$ job_aff2_likert5     <chr> \"Strongly Disagree\", \"Strongly Agree\", \"Strongly …\n$ job_aff3_likert5     <chr> \"Neutral\", \"Strongly Disagree\", \"Disagree\", \"Stro…\n$ job_aff4_likert5     <chr> \"Disagree\", \"Strongly Agree\", \"Agree\", \"Strongly …\n$ participant_id       <fct> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15…\n\n\nWhen you have type chr for a column the computer sees the content of each column as text that is different for each participant. It doesn’t even realize that two people who both responded “Slightly Agree” responded the same way. It sees every response in the column as unique. Check that out for the aff_com1_likert7 item.\n\nanalytic_data_survey %>% \n    select(aff_com1_likert7) %>%\n    summary()\n\n aff_com1_likert7  \n Length:150        \n Class :character  \n Mode  :character  \n\n\n\n1.4.3.5.1 Commitment Items\nTo convert a column from a character column to factor column we need know the exact labels used in that column. We can obtain those with the code below. In this code, we use just one item aff_com1_likert7. We determine the response options for that one item and will apply them to all the commitment items. We use the pull() command to obtain all the participant responses from the aff_com1_likert7. column. Then we use the unique() command to give use just one instance of each response.\n\n# Convert Commitment items to numeric  values\n## Check levels for a likert7 item\nanalytic_data_survey %>%\n  pull(aff_com1_likert7) %>%\n  unique()\n\n[1] \"Slightly Agree\"             \"Neither Agree nor Disagree\"\n[3] \"Moderately Disagree\"        \"Strongly Agree\"            \n[5] \"Strongly Disagree\"          \"Moderately Agree\"          \n[7] \"Slightly Disagree\"         \n\n\nNow that we know the labels used in that column (and all the commitment columns that end in likert7) we create an ordered version of those labels with the code below. I copied and pasted the text (e.g., “Strongly Disagree”) from the above output to avoid typos.\n\n## write code to create ordered factor labels/levels\nlikert7_factor <- c(\"Strongly Disagree\",\n                    \"Moderately Disagree\",\n                    \"Slightly Disagree\",\n                    \"Neither Agree nor Disagree\",\n                    \"Slightly Agree\",\n                    \"Moderately Agree\",\n                    \"Strongly Agree\")\n\nNow we turn each column of text (i.e., type chr) into a factor column using the factor levels/labels we created:\n\n## assign factor levels\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(across(.cols = contains(\"likert7\"), \n                .fns = ~ factor(.x, levels = likert7_factor)))\n\nIn this code we use the mutate() command to modify columns. We use the across() command to have the single mutate command apply to several columns. Within the across() command we use contains(“likert7”) to apply the mutate() command only to columns with likert7 in the name. You can see why column naming conventions are so important! Next, within the across() command, we specify .fns. This indicate the function/command that will apply to the columns selected. The ~ before “factor” just warns the computer that what comes next is a function/command name. The factor() command is what will be applied to the columns. The .x within the factor command is a placeholder for each column name that will be obtained by the previous contains() command.\nAfter this mutate() command is used you can see the columns with likert7 in the name are now factors.\n\nglimpse(analytic_data_survey)\n\nRows: 150\nColumns: 25\n$ year_of_birth        <dbl> 1961, 2006, 2008, 1985, 1953, 1957, 1998, 1970, 1…\n$ sex                  <fct> female, female, female, male, intersex, intersex,…\n$ aff_com1_likert7     <fct> Slightly Agree, Neither Agree nor Disagree, Moder…\n$ aff_com2_likert7     <fct> Slightly Agree, Slightly Disagree, Neither Agree …\n$ aff_com3_likert7rev  <fct> Strongly Disagree, Neither Agree nor Disagree, Mo…\n$ aff_com4_likert7rev  <fct> Moderately Disagree, Strongly Agree, Moderately A…\n$ aff_com5_likert7rev  <fct> Strongly Disagree, Neither Agree nor Disagree, Mo…\n$ aff_com6_likert7     <fct> Moderately Agree, Strongly Agree, Strongly Disagr…\n$ contin_com1_likert7  <fct> Strongly Agree, Neither Agree nor Disagree, Stron…\n$ contin_com2_likert7  <fct> Slightly Agree, Slightly Agree, Slightly Disagree…\n$ contin_com3_likert7  <fct> Strongly Disagree, Slightly Disagree, Strongly Ag…\n$ contin_com4_likert7  <fct> Moderately Agree, Neither Agree nor Disagree, Sli…\n$ contin_com5_likert7  <fct> Slightly Agree, Slightly Agree, Strongly Disagree…\n$ contin_com6_likert7  <fct> Moderately Disagree, Moderately Disagree, Strongl…\n$ norm_com1_likert7rev <fct> Neither Agree nor Disagree, Slightly Disagree, Mo…\n$ norm_com2_likert7    <fct> Moderately Disagree, Moderately Agree, Strongly D…\n$ norm_com3_likert7    <fct> Neither Agree nor Disagree, Neither Agree nor Dis…\n$ norm_com4_likert7    <fct> Moderately Disagree, Moderately Disagree, Strongl…\n$ norm_com5_likert7    <fct> Strongly Disagree, Strongly Disagree, Strongly Di…\n$ norm_com6_likert7    <fct> Strongly Agree, Strongly Disagree, Moderately Dis…\n$ job_aff1_likert5     <chr> \"Strongly Agree\", \"Strongly Agree\", \"Neutral\", \"S…\n$ job_aff2_likert5     <chr> \"Strongly Disagree\", \"Strongly Agree\", \"Strongly …\n$ job_aff3_likert5     <chr> \"Neutral\", \"Strongly Disagree\", \"Disagree\", \"Stro…\n$ job_aff4_likert5     <chr> \"Disagree\", \"Strongly Agree\", \"Agree\", \"Strongly …\n$ participant_id       <fct> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15…\n\n\nNow examine aff_com1_likert7 again - you can see it has levels:\n\nanalytic_data_survey %>% \n    select(aff_com1_likert7) %>%\n    summary()\n\n                   aff_com1_likert7\n Strongly Disagree         :21     \n Moderately Disagree       :21     \n Slightly Disagree         :21     \n Neither Agree nor Disagree:18     \n Slightly Agree            :28     \n Moderately Agree          :21     \n Strongly Agree            :20     \n\n\nThe second step in our conversion process is converting each column from a factor to the numeric value associated with the factor level (i.e. Strongly Disagree becomes 1). We do so with the code below:\n\n## covert factor levels to numeric values\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(across(.cols = contains(\"likert7\"), \n                .fns = as.numeric))\n\nYou can see there are numeric values with the code below. Notice the column types for likert7 items is now dbl (short for double - a type of high precision number.)\n\nglimpse(analytic_data_survey)\n\nRows: 150\nColumns: 25\n$ year_of_birth        <dbl> 1961, 2006, 2008, 1985, 1953, 1957, 1998, 1970, 1…\n$ sex                  <fct> female, female, female, male, intersex, intersex,…\n$ aff_com1_likert7     <dbl> 5, 4, 2, 7, 1, 6, 6, 2, 4, 2, 5, 4, 7, 3, 1, 7, 3…\n$ aff_com2_likert7     <dbl> 5, 3, 4, 2, 6, 7, 2, 3, 2, 7, 3, 4, 4, 1, 6, 2, 5…\n$ aff_com3_likert7rev  <dbl> 1, 4, 2, 5, 7, 2, 6, 3, 5, 4, 3, 3, 2, 2, 6, 2, 7…\n$ aff_com4_likert7rev  <dbl> 2, 7, 6, 6, 3, 5, 7, 6, 7, 2, 7, 2, 5, 6, 1, 4, 4…\n$ aff_com5_likert7rev  <dbl> 1, 4, 6, 5, 3, 7, 5, 7, 5, 5, 4, 5, 3, 1, 3, 2, 4…\n$ aff_com6_likert7     <dbl> 6, 7, 1, 7, 5, 6, 5, 7, 4, 2, 7, 7, 5, 3, 2, 4, 4…\n$ contin_com1_likert7  <dbl> 7, 4, 1, 3, 2, 1, 1, 6, 7, 3, 6, 2, 2, 5, 5, 3, 5…\n$ contin_com2_likert7  <dbl> 5, 5, 3, 2, 7, 6, 1, 3, 5, 2, 4, 5, 1, 6, 6, 6, 2…\n$ contin_com3_likert7  <dbl> 1, 3, 7, 7, 5, 2, 7, 2, 7, 1, 4, 2, 4, 5, 6, 1, 6…\n$ contin_com4_likert7  <dbl> 6, 4, 3, 7, 7, 5, 4, 5, 3, 2, 2, 4, 2, 7, 3, 7, 5…\n$ contin_com5_likert7  <dbl> 5, 5, 1, 4, 4, 6, 5, 5, 5, 2, 5, 6, 3, 5, 2, 7, 6…\n$ contin_com6_likert7  <dbl> 2, 2, 1, 4, 7, 7, 6, 6, 4, 5, 2, 5, 5, 5, 5, 5, 3…\n$ norm_com1_likert7rev <dbl> 4, 3, 6, 3, 3, 6, 5, 7, 3, 7, 5, 1, 5, 3, 5, 4, 2…\n$ norm_com2_likert7    <dbl> 2, 6, 1, 5, 3, 2, 3, 1, 7, 1, 1, 6, 6, 6, 7, 6, 4…\n$ norm_com3_likert7    <dbl> 4, 4, 7, 3, 1, 1, 4, 3, 3, 5, 3, 5, 2, 3, 2, 3, 1…\n$ norm_com4_likert7    <dbl> 2, 2, 1, 6, 4, 6, 1, 1, 5, 5, 5, 3, 2, 3, 3, 5, 5…\n$ norm_com5_likert7    <dbl> 1, 1, 1, 5, 7, 4, 3, 6, 4, 4, 1, 3, 3, 1, 6, 1, 7…\n$ norm_com6_likert7    <dbl> 7, 1, 2, 4, 6, 6, 1, 4, 6, 2, 1, 4, 1, 5, 6, 3, 4…\n$ job_aff1_likert5     <chr> \"Strongly Agree\", \"Strongly Agree\", \"Neutral\", \"S…\n$ job_aff2_likert5     <chr> \"Strongly Disagree\", \"Strongly Agree\", \"Strongly …\n$ job_aff3_likert5     <chr> \"Neutral\", \"Strongly Disagree\", \"Disagree\", \"Stro…\n$ job_aff4_likert5     <chr> \"Disagree\", \"Strongly Agree\", \"Agree\", \"Strongly …\n$ participant_id       <fct> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15…\n\n\nIf you run the summary() command on the aff_com1_likert7 you see we have values now.\n\nanalytic_data_survey %>% \n    select(aff_com1_likert7) %>%\n    summary()\n\n aff_com1_likert7\n Min.   :1.000   \n 1st Qu.:2.000   \n Median :4.000   \n Mean   :4.027   \n 3rd Qu.:6.000   \n Max.   :7.000   \n\n\nSide note: We did a lot of explaining as we went through the steps above. But it’s not as long as it seems. Some of the steps can even be combined. See the concise version of the code we used repeated below:\n\n# Convert Commitment items to numeric  values\n## Check levels for a likert7 item\nanalytic_data_survey %>%\n  pull(aff_com1_likert7) %>%\n  unique()\n\n## write code to create ordered factor labels/levels\nlikert7_factor <- c(\"Strongly Disagree\",\n                    \"Moderately Disagree\",\n                    \"Slightly Disagree\",\n                    \"Neither Agree nor Disagree\",\n                    \"Slightly Agree\",\n                    \"Moderately Agree\",\n                    \"Strongly Agree\")\n\n\n## assign factor levels and then covert to numeric\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(across(.cols = contains(\"likert7\"), \n                .fns = ~ factor(.x, levels = likert7_factor))) %>%\n  mutate(across(.cols = contains(\"likert7\"), \n                .fns = as.numeric))\n\n\n\n1.4.3.5.2 Job Satisfaction Conversion\nWe’ll skip all the explanation steps for Job Satisfaction and just show you the essentials. First, get the labels for the items:\n\n# Convert Job Satisfaction items to numeric  values\n## Check levels for a likert5 item\nanalytic_data_survey %>%\n  pull(job_aff1_likert5) %>%\n  unique()\n\n[1] \"Strongly Agree\"    \"Neutral\"           \"Strongly Disagree\"\n[4] \"Agree\"             \"Disagree\"         \n\n\nSecond, create the ordered factor labels:\n\n## write code to create ordered factor labels/levels\nlikert5_factor <- c(\"Strongly Disagree\",\n                    \"Disagree\",\n                    \"Neutral\",\n                    \"Agree\",\n                    \"Strongly Agree\")\n\nThird, convert the columns to a factor and then to numbers.\n\n## assign factor levels and then covert to numeric\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(across(.cols = contains(\"likert5\"), \n                .fns = ~ factor(.x, levels = likert5_factor))) %>%\n  mutate(across(.cols = contains(\"likert5\"), \n                .fns = as.numeric))\n\n\n\n\n1.4.3.6 Scale scores\nFor each person, scale scores involve averaging scores from several items to create an overall score. The first step in the creation of scales is correcting the values of any reverse-keyed items.\n\n1.4.3.6.1 Reverse-key items\nA complete discussion of the logic for flipping reverse-key (i.e., reverse worded) items is provide the previous chapter in the Scale Scores section. We use that logic in the script below.\n\n# Reverse key items\n## Reverse key likert7 items\nanalytic_data_survey <- analytic_data_survey %>% \n  mutate(8 - across(.cols = ends_with(\"_likert7rev\")) ) %>% \n  rename_with(.fn = str_replace,\n              .cols = ends_with(\"_likert7rev\"),\n              pattern = \"_likert7rev\",\n              replacement = \"_likert7\")\n\nYou can see that are all keyed in the right direction now.\n\nglimpse(analytic_data_survey)\n\nRows: 150\nColumns: 25\n$ year_of_birth       <dbl> 1961, 2006, 2008, 1985, 1953, 1957, 1998, 1970, 19…\n$ sex                 <fct> female, female, female, male, intersex, intersex, …\n$ aff_com1_likert7    <dbl> 5, 4, 2, 7, 1, 6, 6, 2, 4, 2, 5, 4, 7, 3, 1, 7, 3,…\n$ aff_com2_likert7    <dbl> 5, 3, 4, 2, 6, 7, 2, 3, 2, 7, 3, 4, 4, 1, 6, 2, 5,…\n$ aff_com3_likert7    <dbl> 7, 4, 6, 3, 1, 6, 2, 5, 3, 4, 5, 5, 6, 6, 2, 6, 1,…\n$ aff_com4_likert7    <dbl> 6, 1, 2, 2, 5, 3, 1, 2, 1, 6, 1, 6, 3, 2, 7, 4, 4,…\n$ aff_com5_likert7    <dbl> 7, 4, 2, 3, 5, 1, 3, 1, 3, 3, 4, 3, 5, 7, 5, 6, 4,…\n$ aff_com6_likert7    <dbl> 6, 7, 1, 7, 5, 6, 5, 7, 4, 2, 7, 7, 5, 3, 2, 4, 4,…\n$ contin_com1_likert7 <dbl> 7, 4, 1, 3, 2, 1, 1, 6, 7, 3, 6, 2, 2, 5, 5, 3, 5,…\n$ contin_com2_likert7 <dbl> 5, 5, 3, 2, 7, 6, 1, 3, 5, 2, 4, 5, 1, 6, 6, 6, 2,…\n$ contin_com3_likert7 <dbl> 1, 3, 7, 7, 5, 2, 7, 2, 7, 1, 4, 2, 4, 5, 6, 1, 6,…\n$ contin_com4_likert7 <dbl> 6, 4, 3, 7, 7, 5, 4, 5, 3, 2, 2, 4, 2, 7, 3, 7, 5,…\n$ contin_com5_likert7 <dbl> 5, 5, 1, 4, 4, 6, 5, 5, 5, 2, 5, 6, 3, 5, 2, 7, 6,…\n$ contin_com6_likert7 <dbl> 2, 2, 1, 4, 7, 7, 6, 6, 4, 5, 2, 5, 5, 5, 5, 5, 3,…\n$ norm_com1_likert7   <dbl> 4, 5, 2, 5, 5, 2, 3, 1, 5, 1, 3, 7, 3, 5, 3, 4, 6,…\n$ norm_com2_likert7   <dbl> 2, 6, 1, 5, 3, 2, 3, 1, 7, 1, 1, 6, 6, 6, 7, 6, 4,…\n$ norm_com3_likert7   <dbl> 4, 4, 7, 3, 1, 1, 4, 3, 3, 5, 3, 5, 2, 3, 2, 3, 1,…\n$ norm_com4_likert7   <dbl> 2, 2, 1, 6, 4, 6, 1, 1, 5, 5, 5, 3, 2, 3, 3, 5, 5,…\n$ norm_com5_likert7   <dbl> 1, 1, 1, 5, 7, 4, 3, 6, 4, 4, 1, 3, 3, 1, 6, 1, 7,…\n$ norm_com6_likert7   <dbl> 7, 1, 2, 4, 6, 6, 1, 4, 6, 2, 1, 4, 1, 5, 6, 3, 4,…\n$ job_aff1_likert5    <dbl> 5, 5, 3, 1, 1, 3, 4, 4, 1, 4, 3, 5, 5, 1, 2, 1, 3,…\n$ job_aff2_likert5    <dbl> 1, 5, 5, 2, 3, 1, 3, 3, 5, 5, 4, 3, 1, 1, 5, 3, 5,…\n$ job_aff3_likert5    <dbl> 3, 1, 2, 5, 5, 3, 3, 1, 5, 2, 3, 4, 5, 4, 2, 3, 3,…\n$ job_aff4_likert5    <dbl> 2, 5, 4, 1, 5, 3, 1, 3, 3, 5, 2, 5, 2, 3, 1, 5, 5,…\n$ participant_id      <fct> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,…\n\n\nNone of the job satisfaction items were reverse-keyed.\n\n\n1.4.3.6.2 Creating scores\nImportant: Take note of how we name the scale variables (e.g., affective_commitment) with a different prefix than the items (e..g, aff_com1_likert7). This allows us to delete the items (i.e., columns that start with aff_com) but not the final scale score (i.e., a column starts with affective_commitment). This example again illustrates how carefully you need to think about your column and scale naming conventions.\n\n# Create scale scores\n## mutate commands create scale scores\n## select commands with \"-\" remove items after scale creation\nanalytic_data_survey <- analytic_data_survey %>% \n  rowwise() %>% \n  mutate(affective_commitment = mean(c_across(starts_with(\"aff_com\")),\n                                     na.rm = TRUE)) %>%\n  mutate(continuance_commitment = mean(c_across(starts_with(\"contin_com\")),\n                                       na.rm = TRUE)) %>%\n  mutate(normative_commitment = mean(c_across(starts_with(\"norm_com\")),\n                                     na.rm = TRUE)) %>%\n  mutate(job_satisfaction = mean(c_across(starts_with(\"job_aff\")),\n                                 na.rm = TRUE)) %>%\n  ungroup() %>%\n  select(-starts_with(\"aff_com\")) %>%\n  select(-starts_with(\"contin_com\")) %>%\n  select(-starts_with(\"norm_com\")) %>%\n  select(-starts_with(\"job_aff\")) \n\nWe can see our data now has the columns: affective_commitment, continuance_commitment, normative_commitment, job satisfaction.\nAs well, all of the items used to create the scale scores have been removed.\n\nglimpse(analytic_data_survey)\n\nRows: 150\nColumns: 7\n$ year_of_birth          <dbl> 1961, 2006, 2008, 1985, 1953, 1957, 1998, 1970,…\n$ sex                    <fct> female, female, female, male, intersex, interse…\n$ participant_id         <fct> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, …\n$ affective_commitment   <dbl> 6.000000, 3.833333, 2.833333, 4.000000, 3.83333…\n$ continuance_commitment <dbl> 4.333333, 3.833333, 2.666667, 4.500000, 5.33333…\n$ normative_commitment   <dbl> 3.333333, 3.166667, 2.333333, 4.666667, 4.33333…\n$ job_satisfaction       <dbl> 2.75, 4.00, 3.50, 2.25, 3.50, 2.50, 2.75, 2.75,…\n\n\n\n\n\n\n1.4.4 Complete script\nThe complete script script_qualtrics.R for the data file data_qualtrics.csv is presented below.\n\n# Date: YYYY-MM-DD\n# Name: your name here\n# Example: Single occasion survey\n\n# Load data\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(skimr)\n\n# read the file in the normal way and get just the names of the columns.\n# put the names into the col_names\nsurvey_file <- \"data_qualtrics.csv\"\ncol_names <- names(read_csv(survey_file,\n                            n_max = 0,\n                            show_col_types = FALSE))\n\n# skip the first 3 rows than read in the data and use names from above\nraw_data <- read_csv(survey_file,\n                     col_names = col_names, \n                     skip = 3,\n                     show_col_types = FALSE)\n\n# list of Qualtrics columns you probably don't want\ncols_to_maybe_remove <- c(\"StartDate\",\n                          \"EndDate\",\n                          \"Status\",\n                          \"IPAddress\",\n                          \"Progress\",\n                          \"Duration (in seconds)\",\n                          \"Finished\",\n                          \"RecordedDate\",\n                          \"ResponseId\",\n                          \"RecipientLastName\",\n                          \"RecipientFirstName\",\n                          \"RecipientEmail\",\n                          \"ExternalReference\",\n                          \"LocationLatitude\",\n                          \"LocationLongitude\",\n                          \"DistributionChannel\",\n                          \"UserLanguage\")\n\n# check to see overlap with actual column names in data file\n# put names to remove (that are present) into cols_to_remove\ncols_to_remove_id <- col_names %in% cols_to_maybe_remove\ncols_to_remove <- col_names[cols_to_remove_id]\n\n# remove the unwanted Qualtrics columns\nraw_data <- raw_data %>% \n  select(!all_of(cols_to_remove))\n\n\nanalytic_data_survey <- raw_data\n\n# Initial cleaning\n## Convert column names to tidyverse style guide\n## Remove empty rows and columns\nanalytic_data_survey <- analytic_data_survey %>%\n  remove_empty(\"rows\") %>%\n  remove_empty(\"cols\") %>%\n  clean_names()\n\nglimpse(analytic_data_survey)\n\n# Convert variables to factors as needed\n## Convert sex to factor\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(sex = as_factor(sex))\n\n\n## Participant identification to factor\n## Participant identification column must be created first\n## get the number of rows in the data set\nN <- dim(analytic_data_survey)[1] \n\n## create set of factor levels\nparticipant_id_levels <- factor(seq(1, N))\n\n## put the factor levels into a column called participant_id\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(participant_id = participant_id_levels)\n\n# Screen factors\n## screen\nanalytic_data_survey %>%\n  select(sex) %>%\n  summary()\n\n## change to desired order\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(sex = fct_relevel(sex,\n                           \"female\",\n                           \"intersex\",\n                           \"male\"))\n\n\n# Screen numeric variables\nanalytic_data_survey %>%\n  select(year_of_birth) %>%\n  skim()\n\n\n\n\n# Convert Commitment items to numeric  values\n## Check levels for a likert7 item\nanalytic_data_survey %>%\n  pull(aff_com1_likert7) %>%\n  unique()\n\n## write code to create ordered factor labels/levels\nlikert7_factor <- c(\"Strongly Disagree\",\n                    \"Moderately Disagree\",\n                    \"Slightly Disagree\",\n                    \"Neither Agree nor Disagree\",\n                    \"Slightly Agree\",\n                    \"Moderately Agree\",\n                    \"Strongly Agree\")\n\n\n## assign factor levels and then covert to numeric\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(across(.cols = contains(\"likert7\"), \n                .fns = ~ factor(.x, levels = likert7_factor))) %>%\n  mutate(across(.cols = contains(\"likert7\"), \n                .fns = as.numeric))\n\n\n# Convert Job Satisfaction items to numeric  values\n## Check levels for a likert5 item\nanalytic_data_survey %>%\n  pull(job_aff1_likert5) %>%\n  unique()\n\n## write code to create ordered factor labels/levels\nlikert5_factor <- c(\"Strongly Disagree\",\n                    \"Disagree\",\n                    \"Neutral\",\n                    \"Agree\",\n                    \"Strongly Agree\")\n\n## assign factor levels and then covert to numeric\nanalytic_data_survey <- analytic_data_survey %>%\n  mutate(across(.cols = contains(\"likert5\"), \n                .fns = ~ factor(.x, levels = likert5_factor))) %>%\n  mutate(across(.cols = contains(\"likert5\"), \n                .fns = as.numeric))\n\n# Reverse key items\n## Reverse key likert7 items\nanalytic_data_survey <- analytic_data_survey %>% \n  mutate(8 - across(.cols = ends_with(\"_likert7rev\")) ) %>% \n  rename_with(.fn = str_replace,\n              .cols = ends_with(\"_likert7rev\"),\n              pattern = \"_likert7rev\",\n              replacement = \"_likert7\")\n\n## No likert5 items are reverse-keyed but if they were\n## You would adapt the code above replacing 8 (one higher than 7) to 6 (one higher than 5)\n\n\n# Create scale scores\n## mutate commands create scale scores\n## select commands with \"-\" remove items after scale creation\nanalytic_data_survey <- analytic_data_survey %>% \n  rowwise() %>% \n  mutate(affective_commitment = mean(c_across(starts_with(\"aff_com\")),\n                                     na.rm = TRUE)) %>%\n  mutate(continuance_commitment = mean(c_across(starts_with(\"contin_com\")),\n                                       na.rm = TRUE)) %>%\n  mutate(normative_commitment = mean(c_across(starts_with(\"norm_com\")),\n                                     na.rm = TRUE)) %>%\n  mutate(job_satisfaction = mean(c_across(starts_with(\"job_aff\")),\n                                 na.rm = TRUE)) %>%\n  ungroup() %>%\n  select(-starts_with(\"aff_com\")) %>%\n  select(-starts_with(\"contin_com\")) %>%\n  select(-starts_with(\"norm_com\")) %>%\n  select(-starts_with(\"job_aff\")) \n\n\nglimpse(analytic_data_survey)"
  },
  {
    "objectID": "qualtrics.html#extra-help",
    "href": "qualtrics.html#extra-help",
    "title": "1  Qualtrics",
    "section": "1.5 Extra Help",
    "text": "1.5 Extra Help\n\n1.5.1 Qualtrics\n\nUniversity of Guelph Qualtrics Login page\nUniversity of Guelph Qualtrics FAQ page\n\n\n\n1.5.2 Surveys\n\nDillman Method book can be found here\nDuke University Survey site"
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "2  Summary",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2"
  }
]